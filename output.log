2023-11-13 15:42:32,771 - mainlogger - DEBUG - debug message
13.11.2023 15:44:12.f - DEBUG - debug message
13.11.2023 15:46:46.f - DEBUG - [1;33m13.11.2023 15:46:46.087991[0;m SETTINGS IMPORTED with 'HOME' as /Users/david/Projects/planck_proxy/proxy_home
13.11.2023 15:46:46.f - DEBUG - [1;33m13.11.2023 15:46:46.088400[0;m ===== [1;32mplanck proxy started[0;m in mode [1;33mdecrypt[0;m | PID [1;35m69176[0;m | UID [1;36m501[0;m | GID [1;37m20[0;m =====
13.11.2023 15:46:46.f - DEBUG - [1;33m13.11.2023 15:46:46.088859[0;m [1;35mâ”Œ Parameters[0;m
[1;36m                      mode[0;m[1;35m | [0;mdecrypt
[1;36m             settings_file[0;m[1;35m | [0;m./settings.json
[1;36m                      file[0;m[1;35m | [0;m./tests/emails/basic.eml
[1;36m                     DEBUG[0;m[1;35m | [0;mTrue
[1;36m                recipients[0;m[1;35m | [0;mFalse
13.11.2023 15:46:46.f - DEBUG - [1;33m13.11.2023 15:46:46.089452[0;m [1;35mâ”Œ Settings (except logs)[0;m
[1;36m                   logfile[0;m[1;35m | [0;m/Users/david/Projects/planck_proxy/proxy_home/debug.log
[1;36m                  work_dir[0;m[1;35m | [0;mwork
[1;36m                  keys_dir[0;m[1;35m | [0;mkeys
[1;36m                      home[0;m[1;35m | [0;m/Users/david/Projects/planck_proxy/proxy_home
[1;36m                recipients[0;m[1;35m | [0;mFalse
[1;36m                      mode[0;m[1;35m | [0;mdecrypt
[1;36m             settings_file[0;m[1;35m | [0;m./settings.json
[1;36m                      file[0;m[1;35m | [0;m./tests/emails/basic.eml
[1;36m                     DEBUG[0;m[1;35m | [0;mTrue
[1;36m                 SMTP_HOST[0;m[1;35m | [0;m127.0.0.1
[1;36m                 SMTP_PORT[0;m[1;35m | [0;m25
[1;36m                admin_addr[0;m[1;35m | [0;msomeone@yourcompany.tld
[1;36m                    sq_bin[0;m[1;35m | [0;m/usr/local/bin/sq
[1;36m               dts_domains[0;m[1;35m | [0;myourcompany.tld
[1;36m                scan_pipes[0;m[1;35m | [0;m[1;36m      name[0;m[1;35m | [0;mSpamAssassin
                          [1;35m | [0;m[1;36m       cmd[0;m[1;35m | [0;mls
                          [1;35m | [0;m[1;36m      name[0;m[1;35m | [0;mClamAV
                          [1;35m | [0;m[1;36m       cmd[0;m[1;35m | [0;mecho 'hola'
[1;36m               locktimeout[0;m[1;35m | [0;m60
[1;36m            lastactiontime[0;m[1;35m | [0;m2023-11-13 15:46:46.088859
[1;36m                   logpath[0;m[1;35m | [0;mNone
[1;36m                       dts[0;m[1;35m | [0;mNone
[1;36m              lockfilepath[0;m[1;35m | [0;m/Users/david/Projects/planck_proxy/proxy_home/proxy.lock
[1;36m              project_root[0;m[1;35m | [0;m/Users/david/Projects/planck_proxy/planck_proxy/src/proxy
[1;36m           database_folder[0;m[1;35m | [0;m.pEp
[1;36m            thisactiontime[0;m[1;35m | [0;m2023-11-13 15:46:46.088859
13.11.2023 15:46:46.f - DEBUG - [1;33m13.11.2023 15:46:46.090211[0;m Lockfile created
13.11.2023 15:46:46.f - DEBUG - [1;33m13.11.2023 15:46:46.090470[0;m Reading message (to confirm press CTRL+D on an empty line)...
13.11.2023 15:46:46.f - DEBUG - [1;33m13.11.2023 15:46:46.090742[0;m Data has been read
13.11.2023 15:46:46.f - DEBUG - [1;33m13.11.2023 15:46:46.092907[0;m init workdir to /Users/david/Projects/planck_proxy/proxy_home/work/bob@pep.security
13.11.2023 15:46:46.f - DEBUG - [1;33m13.11.2023 15:46:46.093188[0;m        Message from: [1;35malice@pep.security[0;m
13.11.2023 15:46:46.f - DEBUG - [1;33m13.11.2023 15:46:46.093495[0;m          Message to: [1;35mbob@pep.security[0;m
13.11.2023 15:46:46.f - DEBUG - [1;33m13.11.2023 15:46:46.093725[0;m     Initital import: No
13.11.2023 15:46:46.f - DEBUG - [1;33m13.11.2023 15:46:46.094046[0;m    Original message: [1;36m/Users/david/Projects/planck_proxy/proxy_home/work/bob@pep.security/alice@pep.security/2023.11.13-15.46.46.093900/in.decrypt.original.eml[0;m
13.11.2023 15:46:46.f - DEBUG - [1;33m13.11.2023 15:46:46.094465[0;m init logpath to /Users/david/Projects/planck_proxy/proxy_home/work/bob@pep.security/alice@pep.security/2023.11.13-15.46.46.093900
13.11.2023 15:46:46.f - DEBUG - [1;33m13.11.2023 15:46:46.155072[0;m planck core (pâ‰¡p Python adapter version 0.3, pâ‰¡p version 2.1, planck core version 2.1.49) loaded in [1;35m0.060607s[0;m
13.11.2023 15:46:46.f - DEBUG - [1;33m13.11.2023 15:46:46.155807[0;m [1;35mâ”Œ Environment variables[0;m
[1;36m              rvm_bin_path[0;m[1;35m | [0;m/Users/david/.rvm/bin
[1;36m              TERM_PROGRAM[0;m[1;35m | [0;miTerm.app
[1;36m                  GEM_HOME[0;m[1;35m | [0;m/Users/david/.rvm/gems/ruby-2.6.3
[1;36m                      TERM[0;m[1;35m | [0;mxterm-256color
[1;36m                     SHELL[0;m[1;35m | [0;m/bin/bash
[1;36m                     IRBRC[0;m[1;35m | [0;m/Users/david/.rvm/rubies/ruby-2.6.3/.irbrc
[1;36m                    TMPDIR[0;m[1;35m | [0;m/var/folders/r_/yy4gmj_j76b3jy6td69ptcd80000gn/T/
[1;36m      TERM_PROGRAM_VERSION[0;m[1;35m | [0;m3.4.19
[1;36m                    OLDPWD[0;m[1;35m | [0;m/Users/david/Projects/planck_proxy
[1;36m              MY_RUBY_HOME[0;m[1;35m | [0;m/Users/david/.rvm/rubies/ruby-2.6.3
[1;36m           TERM_SESSION_ID[0;m[1;35m | [0;mw0t3p0:C951A5DF-14E6-49A2-B328-EB052F0DA7EB
[1;36m                    LC_ALL[0;m[1;35m | [0;men_US.UTF-8
[1;36m                      USER[0;m[1;35m | [0;mdavid
[1;36m           LD_LIBRARY_PATH[0;m[1;35m | [0;m:/Users/david/local/lib
[1;36m              COMMAND_MODE[0;m[1;35m | [0;munix2003
[1;36m                  rvm_path[0;m[1;35m | [0;m/Users/david/.rvm
[1;36m             SSH_AUTH_SOCK[0;m[1;35m | [0;m/private/tmp/com.apple.launchd.xhxQuS5MRQ/Listeners
[1;36mPYENV_VIRTUALENV_DISABLE_PROMPT[0;m[1;35m | [0;m1
[1;36m   __CF_USER_TEXT_ENCODING[0;m[1;35m | [0;m0x1F5:0x0:0x0
[1;36m               VIRTUAL_ENV[0;m[1;35m | [0;m/Users/david/Projects/planck_proxy/planck_proxy/_venv
[1;36m                rvm_prefix[0;m[1;35m | [0;m/Users/david
[1;36m                      PATH[0;m[1;35m | [0;m/Users/david/Projects/planck_proxy/planck_proxy/_venv/bin:/opt/local/bin:/opt/local/sbin:/Users/david/.rvm/gems/ruby-2.6.3/bin:/Users/david/.rvm/gems/ruby-2.6.3@global/bin:/Users/david/.rvm/rubies/ruby-2.6.3/bin:/Users/david/.cargo/bin:/usr/local/opt/gettext/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Users/david/IBMMQ/9.2.0.0-IBM-MQ-Toolkit-MacX64/bin:/Users/david/IBMMQ/9.2.0.0-IBM-MQ-Toolkit-MacX64/samp/bin:/opt/local/lib/postgresql10/bin:/usr/local/MacGPG2/bin:/opt/X11/bin:/Library/Apple/usr/bin:/Applications/Postgres.app/Contents/Versions/latest/bin:/Users/david/gsutil:/Users/david/.rvm/bin:/Users/david/src/yml2
[1;36m      __CFBundleIdentifier[0;m[1;35m | [0;mcom.googlecode.iterm2
[1;36m                       PWD[0;m[1;35m | [0;m/Users/david/Projects/planck_proxy/planck_proxy
[1;36m                      LANG[0;m[1;35m | [0;men_US.UTF-8
[1;36m             ITERM_PROFILE[0;m[1;35m | [0;mDefault
[1;36m                 XPC_FLAGS[0;m[1;35m | [0;m0x0
[1;36m                       PS1[0;m[1;35m | [0;m(_venv) \[\033[0;31m\]\u\[\033[0m\]@\[\033[0;32m\]\h\[\033[0m\]:\[\033[0;36m\]\w\[\033[0m\] $ 
[1;36m          XPC_SERVICE_NAME[0;m[1;35m | [0;m0
[1;36m               rvm_version[0;m[1;35m | [0;m1.29.9 (latest)
[1;36m                     SHLVL[0;m[1;35m | [0;m1
[1;36m                      HOME[0;m[1;35m | [0;m/Users/david/Projects/planck_proxy/proxy_home/work/bob@pep.security
[1;36m                 COLORFGBG[0;m[1;35m | [0;m15;0
[1;36m       LC_TERMINAL_VERSION[0;m[1;35m | [0;m3.4.19
[1;36m         DYLD_LIBRARY_PATH[0;m[1;35m | [0;m/Users/david/code/engine/build/lib:/Users/david/IBMMQ/9.2.0.0-IBM-MQ-Toolkit-MacX64/lib64:/Users/david/local/lib
[1;36m          ITERM_SESSION_ID[0;m[1;35m | [0;mw0t3p0:C951A5DF-14E6-49A2-B328-EB052F0DA7EB
[1;36m                   LOGNAME[0;m[1;35m | [0;mdavid
[1;36m                  GEM_PATH[0;m[1;35m | [0;m/Users/david/.rvm/gems/ruby-2.6.3:/Users/david/.rvm/gems/ruby-2.6.3@global
[1;36m                  LC_CTYPE[0;m[1;35m | [0;mUTF-8
[1;36m               LC_TERMINAL[0;m[1;35m | [0;miTerm2
[1;36m                   DISPLAY[0;m[1;35m | [0;m/private/tmp/com.apple.launchd.yRMkPFnpJu/org.macosforge.xquartz:0
[1;36m              RUBY_VERSION[0;m[1;35m | [0;mruby-2.6.3
[1;36m                 COLORTERM[0;m[1;35m | [0;mtruecolor
[1;36m                         _[0;m[1;35m | [0;m/Users/david/Projects/planck_proxy/planck_proxy/_venv/bin/planckproxy
13.11.2023 15:46:46.f - DEBUG - [1;33m13.11.2023 15:46:46.169325[0;m [1;35mâ”Œ Keys in this keyring (as stored in keys.db)[0;m
                          [1;35m | [0;mFalse
13.11.2023 15:46:46.f - DEBUG - [1;33m13.11.2023 15:46:46.170717[0;m [1;35mâ”Œ Headers in original message (as seen by non-planck clients)[0;m
[1;36m                      From[0;m[1;35m | [0;m"Alice" <alice@pep.security>
[1;36m              Delivered-To[0;m[1;35m | [0;mbob@pep.security
[1;36m                        To[0;m[1;35m | [0;m"Bob" <bob@pep.security>
[1;36m                   Subject[0;m[1;35m | [0;mHello world!
[1;36m                      Date[0;m[1;35m | [0;mMon, 30 Jan 2023 09:00:00 +0200
[1;36m                Message-ID[0;m[1;35m | [0;m<1fZtkf-2oQ-00@pep.security>
13.11.2023 15:46:46.f - DEBUG - [1;33m13.11.2023 15:46:46.171901[0;m Processing message from [1;32mAlice[0;m[1;33m <alice@pep.security>[0;m to [1;32mBob[0;m[1;33m <bob@pep.security>[0;m
13.11.2023 15:46:46.f - DEBUG - [1;33m13.11.2023 15:46:46.172380[0;m planck-parsed message: [1;36m/Users/david/Projects/planck_proxy/proxy_home/work/bob@pep.security/alice@pep.security/2023.11.13-15.46.46.093900/in.decrypt.parsed.eml[0;m
13.11.2023 15:46:46.f - DEBUG - [1;33m13.11.2023 15:46:46.172977[0;m [1;32mDecrypting message via planck...[0;m
13.11.2023 15:46:46.f - DEBUG - [1;33m13.11.2023 15:46:46.173622[0;m [1;32mDecrypted in[0;m [1;35m0.000645s[0;m
13.11.2023 15:46:46.f - DEBUG - [1;33m13.11.2023 15:46:46.174022[0;m Message rating unencrypted
13.11.2023 15:46:46.f - DEBUG - [1;33m13.11.2023 15:46:46.174404[0;m [1;31mOriginal message was NOT encrypted[0;m
13.11.2023 15:46:46.f - DEBUG - [1;33m13.11.2023 15:46:46.174714[0;m planck-processed message: [1;36m/Users/david/Projects/planck_proxy/proxy_home/work/bob@pep.security/alice@pep.security/2023.11.13-15.46.46.093900/in.decrypt.processed.eml[0;m
Message-ID: <1fZtkf-2oQ-00@pep.security>
Date: Mon, 30 Jan 2023 07:00:00 +0000
From: Alice <alice@pep.security>
To: Bob <bob@pep.security>
Subject: Hello world!
Delivered-To: bob@pep.security
MIME-Version: 1.0
Content-Type: text/plain
Content-Transfer-Encoding: 7bit

Hello encrypted world!

13.11.2023 15:46:46.f - DEBUG - [1;33m13.11.2023 15:46:46.175440[0;m Passing decrypted message to scanner [1;33mSpamAssassin[0;m
13.11.2023 15:46:46.f - DEBUG - [1;33m13.11.2023 15:46:46.182751[0;m Result: [1;32mPASS[0;m
13.11.2023 15:46:46.f - DEBUG - [1;33m13.11.2023 15:46:46.183736[0;m [1;32mSTDOUT:
[0;m                          [1;35m | [0;malice@pep.security
13.11.2023 15:46:46.f - DEBUG - [1;33m13.11.2023 15:46:46.184065[0;m Passing decrypted message to scanner [1;33mClamAV[0;m
13.11.2023 15:46:46.f - DEBUG - [1;33m13.11.2023 15:46:46.189735[0;m Result: [1;32mPASS[0;m
13.11.2023 15:46:46.f - DEBUG - [1;33m13.11.2023 15:46:46.190598[0;m [1;32mSTDOUT:
[0;m                          [1;35m | [0;m'hola'
13.11.2023 15:46:46.f - DEBUG - [1;33m13.11.2023 15:46:46.190880[0;m Combined scan results:
[1;36m              SpamAssassin[0;m[1;35m | [0;m0
[1;36m                    ClamAV[0;m[1;35m | [0;m0
13.11.2023 15:46:46.f - DEBUG - [1;33m13.11.2023 15:46:46.191346[0;m All scans [1;32mPASSED[0;m, relaying message [1;35m0.000466s[0;m
13.11.2023 15:46:46.f - DEBUG - [1;33m13.11.2023 15:46:46.191604[0;m Sending mail
13.11.2023 15:46:46.f - DEBUG - [1;33m13.11.2023 15:46:46.191902[0;m Sending mail
13.11.2023 15:46:46.f - DEBUG - [1;33m13.11.2023 15:46:46.192257[0;m From: [1;32mAlice[0;m[1;33m <alice@pep.security>[0;m
13.11.2023 15:46:46.f - DEBUG - [1;33m13.11.2023 15:46:46.192671[0;m   To: [1;32mBob[0;m[1;33m <bob@pep.security>[0;m
13.11.2023 15:46:46.f - DEBUG - [1;33m13.11.2023 15:46:46.193373[0;m Sending message:
From: "Alice" <alice@pep.security>
To: "Bob" <bob@pep.security>
Subject: Hello world!
Date: Mon, 30 Jan 2023 09:00:00 +0200
Message-ID: <1fZtkf-2oQ-00@pep.security>

Hello encrypted world!

13.11.2023 15:47:04.f - DEBUG - [1;33m13.11.2023 15:47:04.283631[0;m [1;31m!!! planck proxy - Unhandled exception !!![0;m
13.11.2023 15:47:04.f - DEBUG - [1;33m13.11.2023 15:47:04.286162[0;m Traceback (most recent call last):
13.11.2023 15:47:04.f - DEBUG - [1;33m13.11.2023 15:47:04.286667[0;m File "/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/utils/emails.py", line 43, in sendmail
    server.sendmail(msgfrom, msgto, msg.encode("utf8"))
13.11.2023 15:47:04.f - DEBUG - [1;33m13.11.2023 15:47:04.287144[0;m File "/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/smtplib.py", line 885, in sendmail
    raise SMTPSenderRefused(code, resp, from_addr)
13.11.2023 15:47:04.f - DEBUG - [1;33m13.11.2023 15:47:04.288015[0;m smtplib.SMTPSenderRefused: (452, b'4.3.1 Insufficient system storage', 'alice@pep.security')
13.11.2023 15:47:04.f - DEBUG - [1;33m13.11.2023 15:47:04.288543[0;m During handling of the above exception, another exception occurred:
13.11.2023 15:47:04.f - DEBUG - [1;33m13.11.2023 15:47:04.289086[0;m Traceback (most recent call last):
13.11.2023 15:47:04.f - DEBUG - [1;33m13.11.2023 15:47:04.289575[0;m File "/Users/david/Projects/planck_proxy/planck_proxy/_venv/bin/planckproxy", line 8, in <module>
    sys.exit(main())
13.11.2023 15:47:04.f - DEBUG - [1;33m13.11.2023 15:47:04.289976[0;m File "/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/planckProxy.py", line 122, in main
    run_proxy(cli_args)
13.11.2023 15:47:04.f - DEBUG - [1;33m13.11.2023 15:47:04.290309[0;m File "/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/planckProxy.py", line 71, in run_proxy
    deliver_mail(message)
13.11.2023 15:47:04.f - DEBUG - [1;33m13.11.2023 15:47:04.290565[0;m File "/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/proxy_main.py", line 553, in deliver_mail
    sendmail(message.inmail, recipient=message.msgto)
13.11.2023 15:47:04.f - DEBUG - [1;33m13.11.2023 15:47:04.290859[0;m File "/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/utils/emails.py", line 43, in sendmail
    server.sendmail(msgfrom, msgto, msg.encode("utf8"))
13.11.2023 15:47:04.f - DEBUG - [1;33m13.11.2023 15:47:04.291141[0;m File "/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/smtplib.py", line 282, in __exit__
    code, message = self.docmd("QUIT")
13.11.2023 15:47:04.f - DEBUG - [1;33m13.11.2023 15:47:04.291399[0;m File "/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/smtplib.py", line 430, in docmd
    return self.getreply()
13.11.2023 15:47:04.f - DEBUG - [1;33m13.11.2023 15:47:04.291675[0;m File "/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/smtplib.py", line 396, in getreply
    line = self.file.readline(_MAXLINE + 1)
13.11.2023 15:47:04.f - DEBUG - [1;33m13.11.2023 15:47:04.291948[0;m File "/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/socket.py", line 669, in readinto
    return self._sock.recv_into(b)
13.11.2023 15:47:04.f - DEBUG - [1;33m13.11.2023 15:47:04.292204[0;m KeyboardInterrupt
13.11.2023 15:47:04.f - DEBUG - [1;33m13.11.2023 15:47:04.292466[0;m Sending message to [1;32msomeone@yourcompany.tld[0;m, subject: [1;33m[FATAL] planck proxy @ 1.0.0.127.in-addr.arpa crashed![0;m
13.11.2023 15:47:04.f - DEBUG - [1;33m13.11.2023 15:47:04.294464[0;m Sending message:
Content-type: text/html; charset=UTF-8
From: proxy@macbookpro.local
To: someone@yourcompany.tld
Subject: [FATAL] planck proxy @ 1.0.0.127.in-addr.arpa crashed!

<html><head><style>.console { font-family: Courier New; font-size: 13px; line-height: 14px; width: 100%; }</style></head><body topmargin="0" leftmargin="0" marginwidth="0" marginheight="0"><table class="console"><tr><td>Traceback (most recent call last):
  File "/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/utils/emails.py", line 43, in sendmail
    server.sendmail(msgfrom, msgto, msg.encode("utf8"))
  File "/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/smtplib.py", line 885, in sendmail
    raise SMTPSenderRefused(code, resp, from_addr)
smtplib.SMTPSenderRefused: (452, b'4.3.1 Insufficient system storage', 'alice@pep.security')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/david/Projects/planck_proxy/planck_proxy/_venv/bin/planckproxy", line 8, in <module>
    sys.exit(main())
  File "/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/planckProxy.py", line 122, in main
    run_proxy(cli_args)
  File "/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/planckProxy.py", line 71, in run_proxy
    deliver_mail(message)
  File "/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/proxy_main.py", line 553, in deliver_mail
    sendmail(message.inmail, recipient=message.msgto)
  File "/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/utils/emails.py", line 43, in sendmail
    server.sendmail(msgfrom, msgto, msg.encode("utf8"))
  File "/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/smtplib.py", line 282, in __exit__
    code, message = self.docmd("QUIT")
  File "/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/smtplib.py", line 430, in docmd
    return self.getreply()
  File "/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/smtplib.py", line 396, in getreply
    line = self.file.readline(_MAXLINE + 1)
  File "/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/socket.py", line 669, in readinto
    return self._sock.recv_into(b)
KeyboardInterrupt
<br>================================================================================<br><br><font color="#ff8800">13.11.2023&nbsp;15:46:46.087991</font>&nbsp;SETTINGS&nbsp;IMPORTED&nbsp;with&nbsp;&#x27;HOME&#x27;&nbsp;as&nbsp;/Users/david/Projects/planck_proxy/proxy_home<br>
<font color="#ff8800">13.11.2023&nbsp;15:46:46.088400</font>&nbsp;=====&nbsp;<font color="#00bb00">planck&nbsp;proxy&nbsp;started</font>&nbsp;in&nbsp;mode&nbsp;<font color="#ff8800">decrypt</font>&nbsp;|&nbsp;PID&nbsp;<font color="#ff00ff">69176</font>&nbsp;|&nbsp;UID&nbsp;<font color="#5555ff">501</font>&nbsp;|&nbsp;GID&nbsp;<font color="#666666">20</font>&nbsp;=====<br>
<font color="#ff8800">13.11.2023&nbsp;15:46:46.088859</font>&nbsp;<font color="#ff00ff">â”Œ&nbsp;Parameters</font><br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mode</font><font color="#ff00ff">&nbsp;|&nbsp;</font>decrypt<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;settings_file</font><font color="#ff00ff">&nbsp;|&nbsp;</font>./settings.json<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file</font><font color="#ff00ff">&nbsp;|&nbsp;</font>./tests/emails/basic.eml<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DEBUG</font><font color="#ff00ff">&nbsp;|&nbsp;</font>True<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;recipients</font><font color="#ff00ff">&nbsp;|&nbsp;</font>False<br>
<font color="#ff8800">13.11.2023&nbsp;15:46:46.089452</font>&nbsp;<font color="#ff00ff">â”Œ&nbsp;Settings&nbsp;(except&nbsp;logs)</font><br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logfile</font><font color="#ff00ff">&nbsp;|&nbsp;</font>/Users/david/Projects/planck_proxy/proxy_home/debug.log<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;work_dir</font><font color="#ff00ff">&nbsp;|&nbsp;</font>work<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keys_dir</font><font color="#ff00ff">&nbsp;|&nbsp;</font>keys<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;home</font><font color="#ff00ff">&nbsp;|&nbsp;</font>/Users/david/Projects/planck_proxy/proxy_home<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;recipients</font><font color="#ff00ff">&nbsp;|&nbsp;</font>False<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mode</font><font color="#ff00ff">&nbsp;|&nbsp;</font>decrypt<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;settings_file</font><font color="#ff00ff">&nbsp;|&nbsp;</font>./settings.json<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file</font><font color="#ff00ff">&nbsp;|&nbsp;</font>./tests/emails/basic.eml<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DEBUG</font><font color="#ff00ff">&nbsp;|&nbsp;</font>True<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SMTP_HOST</font><font color="#ff00ff">&nbsp;|&nbsp;</font>127.0.0.1<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SMTP_PORT</font><font color="#ff00ff">&nbsp;|&nbsp;</font>25<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;admin_addr</font><font color="#ff00ff">&nbsp;|&nbsp;</font>someone@yourcompany.tld<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sq_bin</font><font color="#ff00ff">&nbsp;|&nbsp;</font>/usr/local/bin/sq<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dts_domains</font><font color="#ff00ff">&nbsp;|&nbsp;</font>yourcompany.tld<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scan_pipes</font><font color="#ff00ff">&nbsp;|&nbsp;</font><font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name</font><font color="#ff00ff">&nbsp;|&nbsp;</font>SpamAssassin<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ff00ff">&nbsp;|&nbsp;</font><font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cmd</font><font color="#ff00ff">&nbsp;|&nbsp;</font>ls<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ff00ff">&nbsp;|&nbsp;</font><font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name</font><font color="#ff00ff">&nbsp;|&nbsp;</font>ClamAV<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ff00ff">&nbsp;|&nbsp;</font><font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cmd</font><font color="#ff00ff">&nbsp;|&nbsp;</font>echo&nbsp;&#x27;hola&#x27;<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;locktimeout</font><font color="#ff00ff">&nbsp;|&nbsp;</font>60<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lastactiontime</font><font color="#ff00ff">&nbsp;|&nbsp;</font>2023-11-13&nbsp;15:46:46.088859<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logpath</font><font color="#ff00ff">&nbsp;|&nbsp;</font>None<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dts</font><font color="#ff00ff">&nbsp;|&nbsp;</font>None<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lockfilepath</font><font color="#ff00ff">&nbsp;|&nbsp;</font>/Users/david/Projects/planck_proxy/proxy_home/proxy.lock<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;project_root</font><font color="#ff00ff">&nbsp;|&nbsp;</font>/Users/david/Projects/planck_proxy/planck_proxy/src/proxy<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;database_folder</font><font color="#ff00ff">&nbsp;|&nbsp;</font>.pEp<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;thisactiontime</font><font color="#ff00ff">&nbsp;|&nbsp;</font>2023-11-13&nbsp;15:46:46.088859<br>
<font color="#ff8800">13.11.2023&nbsp;15:46:46.090742</font>&nbsp;Data&nbsp;has&nbsp;been&nbsp;read<br>
<font color="#ff8800">13.11.2023&nbsp;15:46:46.092907</font>&nbsp;init&nbsp;workdir&nbsp;to&nbsp;/Users/david/Projects/planck_proxy/proxy_home/work/bob@pep.security<br>
<font color="#ff8800">13.11.2023&nbsp;15:46:46.093188</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Message&nbsp;from:&nbsp;<font color="#ff00ff">alice@pep.security</font><br>
<font color="#ff8800">13.11.2023&nbsp;15:46:46.093495</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Message&nbsp;to:&nbsp;<font color="#ff00ff">bob@pep.security</font><br>
<font color="#ff8800">13.11.2023&nbsp;15:46:46.093725</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initital&nbsp;import:&nbsp;No<br>
<font color="#ff8800">13.11.2023&nbsp;15:46:46.094046</font>&nbsp;&nbsp;&nbsp;&nbsp;Original&nbsp;message:&nbsp;<font color="#5555ff">/Users/david/Projects/planck_proxy/proxy_home/work/bob@pep.security/alice@pep.security/2023.11.13-15.46.46.093900/in.decrypt.original.eml</font><br>
<font color="#ff8800">13.11.2023&nbsp;15:46:46.094465</font>&nbsp;init&nbsp;logpath&nbsp;to&nbsp;/Users/david/Projects/planck_proxy/proxy_home/work/bob@pep.security/alice@pep.security/2023.11.13-15.46.46.093900<br>
<font color="#ff8800">13.11.2023&nbsp;15:46:46.155072</font>&nbsp;planck&nbsp;core&nbsp;(pâ‰¡p&nbsp;Python&nbsp;adapter&nbsp;version&nbsp;0.3,&nbsp;pâ‰¡p&nbsp;version&nbsp;2.1,&nbsp;planck&nbsp;core&nbsp;version&nbsp;2.1.49)&nbsp;loaded&nbsp;in&nbsp;<font color="#ff00ff">0.060607s</font><br>
<font color="#ff8800">13.11.2023&nbsp;15:46:46.169325</font>&nbsp;<font color="#ff00ff">â”Œ&nbsp;Keys&nbsp;in&nbsp;this&nbsp;keyring&nbsp;(as&nbsp;stored&nbsp;in&nbsp;keys.db)</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ff00ff">&nbsp;|&nbsp;</font>False<br>
<font color="#ff8800">13.11.2023&nbsp;15:46:46.170717</font>&nbsp;<font color="#ff00ff">â”Œ&nbsp;Headers&nbsp;in&nbsp;original&nbsp;message&nbsp;(as&nbsp;seen&nbsp;by&nbsp;non-planck&nbsp;clients)</font><br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;From</font><font color="#ff00ff">&nbsp;|&nbsp;</font>&quot;Alice&quot;&nbsp;&lt;alice@pep.security&gt;<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Delivered-To</font><font color="#ff00ff">&nbsp;|&nbsp;</font>bob@pep.security<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;To</font><font color="#ff00ff">&nbsp;|&nbsp;</font>&quot;Bob&quot;&nbsp;&lt;bob@pep.security&gt;<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Subject</font><font color="#ff00ff">&nbsp;|&nbsp;</font>Hello&nbsp;world!<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Date</font><font color="#ff00ff">&nbsp;|&nbsp;</font>Mon,&nbsp;30&nbsp;Jan&nbsp;2023&nbsp;09:00:00&nbsp;+0200<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Message-ID</font><font color="#ff00ff">&nbsp;|&nbsp;</font>&lt;1fZtkf-2oQ-00@pep.security&gt;<br>
<font color="#ff8800">13.11.2023&nbsp;15:46:46.171901</font>&nbsp;Processing&nbsp;message&nbsp;from&nbsp;<font color="#00bb00">Alice</font><font color="#ff8800">&nbsp;&lt;alice@pep.security&gt;</font>&nbsp;to&nbsp;<font color="#00bb00">Bob</font><font color="#ff8800">&nbsp;&lt;bob@pep.security&gt;</font><br>
<font color="#ff8800">13.11.2023&nbsp;15:46:46.172380</font>&nbsp;planck-parsed&nbsp;message:&nbsp;<font color="#5555ff">/Users/david/Projects/planck_proxy/proxy_home/work/bob@pep.security/alice@pep.security/2023.11.13-15.46.46.093900/in.decrypt.parsed.eml</font><br>
<font color="#ff8800">13.11.2023&nbsp;15:46:46.172977</font>&nbsp;<font color="#00bb00">Decrypting&nbsp;message&nbsp;via&nbsp;planck...</font><br>
<font color="#ff8800">13.11.2023&nbsp;15:46:46.173622</font>&nbsp;<font color="#00bb00">Decrypted&nbsp;in</font>&nbsp;<font color="#ff00ff">0.000645s</font><br>
<font color="#ff8800">13.11.2023&nbsp;15:46:46.174022</font>&nbsp;Message&nbsp;rating&nbsp;unencrypted<br>
<font color="#ff8800">13.11.2023&nbsp;15:46:46.174404</font>&nbsp;<font color="#ff0000">Original&nbsp;message&nbsp;was&nbsp;NOT&nbsp;encrypted</font><br>
<font color="#ff8800">13.11.2023&nbsp;15:46:46.174714</font>&nbsp;planck-processed&nbsp;message:&nbsp;<font color="#5555ff">/Users/david/Projects/planck_proxy/proxy_home/work/bob@pep.security/alice@pep.security/2023.11.13-15.46.46.093900/in.decrypt.processed.eml</font><br>
Message-ID:&nbsp;&lt;1fZtkf-2oQ-00@pep.security&gt;<br>
Date:&nbsp;Mon,&nbsp;30&nbsp;Jan&nbsp;2023&nbsp;07:00:00&nbsp;+0000<br>
From:&nbsp;Alice&nbsp;&lt;alice@pep.security&gt;<br>
To:&nbsp;Bob&nbsp;&lt;bob@pep.security&gt;<br>
Subject:&nbsp;Hello&nbsp;world!<br>
MIME-Version:&nbsp;1.0<br>
Content-Type:&nbsp;text/plain<br>
Content-Transfer-Encoding:&nbsp;7bit<br>
<br>
Hello&nbsp;encrypted&nbsp;world!<br>
<br>
<font color="#ff8800">13.11.2023&nbsp;15:46:46.175440</font>&nbsp;Passing&nbsp;decrypted&nbsp;message&nbsp;to&nbsp;scanner&nbsp;<font color="#ff8800">SpamAssassin</font><br>
<font color="#ff8800">13.11.2023&nbsp;15:46:46.182751</font>&nbsp;Result:&nbsp;<font color="#00bb00">PASS</font><br>
<font color="#ff8800">13.11.2023&nbsp;15:46:46.183736</font>&nbsp;<font color="#00bb00">STDOUT:<br>
</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ff00ff">&nbsp;|&nbsp;</font>alice@pep.security<br>
<font color="#ff8800">13.11.2023&nbsp;15:46:46.184065</font>&nbsp;Passing&nbsp;decrypted&nbsp;message&nbsp;to&nbsp;scanner&nbsp;<font color="#ff8800">ClamAV</font><br>
<font color="#ff8800">13.11.2023&nbsp;15:46:46.189735</font>&nbsp;Result:&nbsp;<font color="#00bb00">PASS</font><br>
<font color="#ff8800">13.11.2023&nbsp;15:46:46.190598</font>&nbsp;<font color="#00bb00">STDOUT:<br>
</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ff00ff">&nbsp;|&nbsp;</font>&#x27;hola&#x27;<br>
<font color="#ff8800">13.11.2023&nbsp;15:46:46.190880</font>&nbsp;Combined&nbsp;scan&nbsp;results:<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SpamAssassin</font><font color="#ff00ff">&nbsp;|&nbsp;</font>0<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ClamAV</font><font color="#ff00ff">&nbsp;|&nbsp;</font>0<br>
<font color="#ff8800">13.11.2023&nbsp;15:46:46.191346</font>&nbsp;All&nbsp;scans&nbsp;<font color="#00bb00">PASSED</font>,&nbsp;relaying&nbsp;message&nbsp;<font color="#ff00ff">0.000466s</font><br>
<font color="#ff8800">13.11.2023&nbsp;15:46:46.191604</font>&nbsp;Sending&nbsp;mail<br>
<font color="#ff8800">13.11.2023&nbsp;15:46:46.191902</font>&nbsp;Sending&nbsp;mail<br>
<font color="#ff8800">13.11.2023&nbsp;15:46:46.192257</font>&nbsp;From:&nbsp;<font color="#00bb00">Alice</font><font color="#ff8800">&nbsp;&lt;alice@pep.security&gt;</font><br>
<font color="#ff8800">13.11.2023&nbsp;15:46:46.192671</font>&nbsp;&nbsp;&nbsp;To:&nbsp;<font color="#00bb00">Bob</font><font color="#ff8800">&nbsp;&lt;bob@pep.security&gt;</font><br>
<font color="#ff8800">13.11.2023&nbsp;15:46:46.193373</font>&nbsp;Sending&nbsp;message:<br>
From:&nbsp;&quot;Alice&quot;&nbsp;&lt;alice@pep.security&gt;<br>
To:&nbsp;&quot;Bob&quot;&nbsp;&lt;bob@pep.security&gt;<br>
Subject:&nbsp;Hello&nbsp;world!<br>
Date:&nbsp;Mon,&nbsp;30&nbsp;Jan&nbsp;2023&nbsp;09:00:00&nbsp;+0200<br>
Message-ID:&nbsp;&lt;1fZtkf-2oQ-00@pep.security&gt;<br>
<br>
Hello&nbsp;encrypted&nbsp;world!<br>
<br>
<font color="#ff8800">13.11.2023&nbsp;15:47:04.283631</font>&nbsp;<font color="#ff0000">!!!&nbsp;planck&nbsp;proxy&nbsp;-&nbsp;Unhandled&nbsp;exception&nbsp;!!!</font><br>
<font color="#ff8800">13.11.2023&nbsp;15:47:04.286162</font>&nbsp;Traceback&nbsp;(most&nbsp;recent&nbsp;call&nbsp;last):<br>
<font color="#ff8800">13.11.2023&nbsp;15:47:04.286667</font>&nbsp;File&nbsp;&quot;/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/utils/emails.py&quot;,&nbsp;line&nbsp;43,&nbsp;in&nbsp;sendmail<br>
&nbsp;&nbsp;&nbsp;&nbsp;server.sendmail(msgfrom,&nbsp;msgto,&nbsp;msg.encode(&quot;utf8&quot;))<br>
<font color="#ff8800">13.11.2023&nbsp;15:47:04.287144</font>&nbsp;File&nbsp;&quot;/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/smtplib.py&quot;,&nbsp;line&nbsp;885,&nbsp;in&nbsp;sendmail<br>
&nbsp;&nbsp;&nbsp;&nbsp;raise&nbsp;SMTPSenderRefused(code,&nbsp;resp,&nbsp;from_addr)<br>
<font color="#ff8800">13.11.2023&nbsp;15:47:04.288015</font>&nbsp;smtplib.SMTPSenderRefused:&nbsp;(452,&nbsp;b&#x27;4.3.1&nbsp;Insufficient&nbsp;system&nbsp;storage&#x27;,&nbsp;&#x27;alice@pep.security&#x27;)<br>
<font color="#ff8800">13.11.2023&nbsp;15:47:04.288543</font>&nbsp;During&nbsp;handling&nbsp;of&nbsp;the&nbsp;above&nbsp;exception,&nbsp;another&nbsp;exception&nbsp;occurred:<br>
<font color="#ff8800">13.11.2023&nbsp;15:47:04.289086</font>&nbsp;Traceback&nbsp;(most&nbsp;recent&nbsp;call&nbsp;last):<br>
<font color="#ff8800">13.11.2023&nbsp;15:47:04.289575</font>&nbsp;File&nbsp;&quot;/Users/david/Projects/planck_proxy/planck_proxy/_venv/bin/planckproxy&quot;,&nbsp;line&nbsp;8,&nbsp;in&nbsp;&lt;module&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;sys.exit(main())<br>
<font color="#ff8800">13.11.2023&nbsp;15:47:04.289976</font>&nbsp;File&nbsp;&quot;/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/planckProxy.py&quot;,&nbsp;line&nbsp;122,&nbsp;in&nbsp;main<br>
&nbsp;&nbsp;&nbsp;&nbsp;run_proxy(cli_args)<br>
<font color="#ff8800">13.11.2023&nbsp;15:47:04.290309</font>&nbsp;File&nbsp;&quot;/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/planckProxy.py&quot;,&nbsp;line&nbsp;71,&nbsp;in&nbsp;run_proxy<br>
&nbsp;&nbsp;&nbsp;&nbsp;deliver_mail(message)<br>
<font color="#ff8800">13.11.2023&nbsp;15:47:04.290565</font>&nbsp;File&nbsp;&quot;/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/proxy_main.py&quot;,&nbsp;line&nbsp;553,&nbsp;in&nbsp;deliver_mail<br>
&nbsp;&nbsp;&nbsp;&nbsp;sendmail(message.inmail,&nbsp;recipient=message.msgto)<br>
<font color="#ff8800">13.11.2023&nbsp;15:47:04.290859</font>&nbsp;File&nbsp;&quot;/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/utils/emails.py&quot;,&nbsp;line&nbsp;43,&nbsp;in&nbsp;sendmail<br>
&nbsp;&nbsp;&nbsp;&nbsp;server.sendmail(msgfrom,&nbsp;msgto,&nbsp;msg.encode(&quot;utf8&quot;))<br>
<font color="#ff8800">13.11.2023&nbsp;15:47:04.291141</font>&nbsp;File&nbsp;&quot;/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/smtplib.py&quot;,&nbsp;line&nbsp;282,&nbsp;in&nbsp;__exit__<br>
&nbsp;&nbsp;&nbsp;&nbsp;code,&nbsp;message&nbsp;=&nbsp;self.docmd(&quot;QUIT&quot;)<br>
<font color="#ff8800">13.11.2023&nbsp;15:47:04.291399</font>&nbsp;File&nbsp;&quot;/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/smtplib.py&quot;,&nbsp;line&nbsp;430,&nbsp;in&nbsp;docmd<br>
&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.getreply()<br>
<font color="#ff8800">13.11.2023&nbsp;15:47:04.291675</font>&nbsp;File&nbsp;&quot;/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/smtplib.py&quot;,&nbsp;line&nbsp;396,&nbsp;in&nbsp;getreply<br>
&nbsp;&nbsp;&nbsp;&nbsp;line&nbsp;=&nbsp;self.file.readline(_MAXLINE&nbsp;+&nbsp;1)<br>
<font color="#ff8800">13.11.2023&nbsp;15:47:04.291948</font>&nbsp;File&nbsp;&quot;/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/socket.py&quot;,&nbsp;line&nbsp;669,&nbsp;in&nbsp;readinto<br>
&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self._sock.recv_into(b)<br>
<font color="#ff8800">13.11.2023&nbsp;15:47:04.292204</font>&nbsp;KeyboardInterrupt<br>
<font color="#ff8800">13.11.2023&nbsp;15:47:04.292466</font>&nbsp;Sending&nbsp;message&nbsp;to&nbsp;<font color="#00bb00">someone@yourcompany.tld</font>,&nbsp;subject:&nbsp;<font color="#ff8800">[FATAL]&nbsp;planck&nbsp;proxy&nbsp;@&nbsp;1.0.0.127.in-addr.arpa&nbsp;crashed!</font><br>
</td></tr></table></body></html>
13.11.2023 15:47:04.f - DEBUG - [1;33m13.11.2023 15:47:04.911066[0;m Lockfile [1;36m/Users/david/Projects/planck_proxy/proxy_home/proxy.lock[0;m removed
13.11.2023 15:47:04.f - DEBUG - [1;33m13.11.2023 15:47:04.911738[0;m Debug mode, will keep the logged output messages in the work_dir [1;36m/Users/david/Projects/planck_proxy/proxy_home/work/bob@pep.security/alice@pep.security/2023.11.13-15.46.46.093900[0;m
13.11.2023 15:48:27.f - DEBUG - SETTINGS IMPORTED with 'HOME' as /Users/david/Projects/planck_proxy/proxy_home
13.11.2023 15:48:27.f - DEBUG - ===== [1;32mplanck proxy started[0;m in mode [1;33mdecrypt[0;m | PID [1;35m69521[0;m | UID [1;36m501[0;m | GID [1;37m20[0;m =====
13.11.2023 15:48:27.f - DEBUG - [1;35mâ”Œ Parameters[0;m
[1;36m                      mode[0;m[1;35m | [0;mdecrypt
[1;36m             settings_file[0;m[1;35m | [0;m./settings.json
[1;36m                      file[0;m[1;35m | [0;m./tests/emails/basic.eml
[1;36m                     DEBUG[0;m[1;35m | [0;mTrue
[1;36m                recipients[0;m[1;35m | [0;mFalse
13.11.2023 15:48:27.f - DEBUG - [1;35mâ”Œ Settings (except logs)[0;m
[1;36m                   logfile[0;m[1;35m | [0;m/Users/david/Projects/planck_proxy/proxy_home/debug.log
[1;36m                  work_dir[0;m[1;35m | [0;mwork
[1;36m                  keys_dir[0;m[1;35m | [0;mkeys
[1;36m                      home[0;m[1;35m | [0;m/Users/david/Projects/planck_proxy/proxy_home
[1;36m                recipients[0;m[1;35m | [0;mFalse
[1;36m                      mode[0;m[1;35m | [0;mdecrypt
[1;36m             settings_file[0;m[1;35m | [0;m./settings.json
[1;36m                      file[0;m[1;35m | [0;m./tests/emails/basic.eml
[1;36m                     DEBUG[0;m[1;35m | [0;mTrue
[1;36m                 SMTP_HOST[0;m[1;35m | [0;m127.0.0.1
[1;36m                 SMTP_PORT[0;m[1;35m | [0;m25
[1;36m                admin_addr[0;m[1;35m | [0;msomeone@yourcompany.tld
[1;36m                    sq_bin[0;m[1;35m | [0;m/usr/local/bin/sq
[1;36m               dts_domains[0;m[1;35m | [0;myourcompany.tld
[1;36m                scan_pipes[0;m[1;35m | [0;m[1;36m      name[0;m[1;35m | [0;mSpamAssassin
                          [1;35m | [0;m[1;36m       cmd[0;m[1;35m | [0;mls
                          [1;35m | [0;m[1;36m      name[0;m[1;35m | [0;mClamAV
                          [1;35m | [0;m[1;36m       cmd[0;m[1;35m | [0;mecho 'hola'
[1;36m               locktimeout[0;m[1;35m | [0;m60
[1;36m            lastactiontime[0;m[1;35m | [0;m2023-11-13 15:48:27.315724
[1;36m                   logpath[0;m[1;35m | [0;mNone
[1;36m                       dts[0;m[1;35m | [0;mNone
[1;36m              lockfilepath[0;m[1;35m | [0;m/Users/david/Projects/planck_proxy/proxy_home/proxy.lock
[1;36m              project_root[0;m[1;35m | [0;m/Users/david/Projects/planck_proxy/planck_proxy/src/proxy
[1;36m           database_folder[0;m[1;35m | [0;m.pEp
[1;36m            thisactiontime[0;m[1;35m | [0;m2023-11-13 15:48:27.315724
13.11.2023 15:48:27.f - DEBUG - Lockfile created
13.11.2023 15:48:27.f - DEBUG - Reading message (to confirm press CTRL+D on an empty line)...
13.11.2023 15:48:27.f - DEBUG - Data has been read
13.11.2023 15:48:27.f - DEBUG - init workdir to /Users/david/Projects/planck_proxy/proxy_home/work/bob@pep.security
13.11.2023 15:48:27.f - DEBUG -        Message from: [1;35malice@pep.security[0;m
13.11.2023 15:48:27.f - DEBUG -          Message to: [1;35mbob@pep.security[0;m
13.11.2023 15:48:27.f - DEBUG -     Initital import: No
13.11.2023 15:48:27.f - DEBUG -    Original message: [1;36m/Users/david/Projects/planck_proxy/proxy_home/work/bob@pep.security/alice@pep.security/2023.11.13-15.48.27.321849/in.decrypt.original.eml[0;m
13.11.2023 15:48:27.f - DEBUG - init logpath to /Users/david/Projects/planck_proxy/proxy_home/work/bob@pep.security/alice@pep.security/2023.11.13-15.48.27.321849
13.11.2023 15:48:27.f - DEBUG - planck core (pâ‰¡p Python adapter version 0.3, pâ‰¡p version 2.1, planck core version 2.1.49) loaded in [1;35m0.074109s[0;m
13.11.2023 15:48:27.f - DEBUG - [1;35mâ”Œ Environment variables[0;m
[1;36m              rvm_bin_path[0;m[1;35m | [0;m/Users/david/.rvm/bin
[1;36m              TERM_PROGRAM[0;m[1;35m | [0;miTerm.app
[1;36m                  GEM_HOME[0;m[1;35m | [0;m/Users/david/.rvm/gems/ruby-2.6.3
[1;36m                      TERM[0;m[1;35m | [0;mxterm-256color
[1;36m                     SHELL[0;m[1;35m | [0;m/bin/bash
[1;36m                     IRBRC[0;m[1;35m | [0;m/Users/david/.rvm/rubies/ruby-2.6.3/.irbrc
[1;36m                    TMPDIR[0;m[1;35m | [0;m/var/folders/r_/yy4gmj_j76b3jy6td69ptcd80000gn/T/
[1;36m      TERM_PROGRAM_VERSION[0;m[1;35m | [0;m3.4.19
[1;36m                    OLDPWD[0;m[1;35m | [0;m/Users/david/Projects/planck_proxy
[1;36m              MY_RUBY_HOME[0;m[1;35m | [0;m/Users/david/.rvm/rubies/ruby-2.6.3
[1;36m           TERM_SESSION_ID[0;m[1;35m | [0;mw0t3p0:C951A5DF-14E6-49A2-B328-EB052F0DA7EB
[1;36m                    LC_ALL[0;m[1;35m | [0;men_US.UTF-8
[1;36m                      USER[0;m[1;35m | [0;mdavid
[1;36m           LD_LIBRARY_PATH[0;m[1;35m | [0;m:/Users/david/local/lib
[1;36m              COMMAND_MODE[0;m[1;35m | [0;munix2003
[1;36m                  rvm_path[0;m[1;35m | [0;m/Users/david/.rvm
[1;36m             SSH_AUTH_SOCK[0;m[1;35m | [0;m/private/tmp/com.apple.launchd.xhxQuS5MRQ/Listeners
[1;36mPYENV_VIRTUALENV_DISABLE_PROMPT[0;m[1;35m | [0;m1
[1;36m   __CF_USER_TEXT_ENCODING[0;m[1;35m | [0;m0x1F5:0x0:0x0
[1;36m               VIRTUAL_ENV[0;m[1;35m | [0;m/Users/david/Projects/planck_proxy/planck_proxy/_venv
[1;36m                rvm_prefix[0;m[1;35m | [0;m/Users/david
[1;36m                      PATH[0;m[1;35m | [0;m/Users/david/Projects/planck_proxy/planck_proxy/_venv/bin:/opt/local/bin:/opt/local/sbin:/Users/david/.rvm/gems/ruby-2.6.3/bin:/Users/david/.rvm/gems/ruby-2.6.3@global/bin:/Users/david/.rvm/rubies/ruby-2.6.3/bin:/Users/david/.cargo/bin:/usr/local/opt/gettext/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Users/david/IBMMQ/9.2.0.0-IBM-MQ-Toolkit-MacX64/bin:/Users/david/IBMMQ/9.2.0.0-IBM-MQ-Toolkit-MacX64/samp/bin:/opt/local/lib/postgresql10/bin:/usr/local/MacGPG2/bin:/opt/X11/bin:/Library/Apple/usr/bin:/Applications/Postgres.app/Contents/Versions/latest/bin:/Users/david/gsutil:/Users/david/.rvm/bin:/Users/david/src/yml2
[1;36m      __CFBundleIdentifier[0;m[1;35m | [0;mcom.googlecode.iterm2
[1;36m                       PWD[0;m[1;35m | [0;m/Users/david/Projects/planck_proxy/planck_proxy
[1;36m                      LANG[0;m[1;35m | [0;men_US.UTF-8
[1;36m             ITERM_PROFILE[0;m[1;35m | [0;mDefault
[1;36m                 XPC_FLAGS[0;m[1;35m | [0;m0x0
[1;36m                       PS1[0;m[1;35m | [0;m(_venv) \[\033[0;31m\]\u\[\033[0m\]@\[\033[0;32m\]\h\[\033[0m\]:\[\033[0;36m\]\w\[\033[0m\] $ 
[1;36m          XPC_SERVICE_NAME[0;m[1;35m | [0;m0
[1;36m               rvm_version[0;m[1;35m | [0;m1.29.9 (latest)
[1;36m                     SHLVL[0;m[1;35m | [0;m1
[1;36m                      HOME[0;m[1;35m | [0;m/Users/david/Projects/planck_proxy/proxy_home/work/bob@pep.security
[1;36m                 COLORFGBG[0;m[1;35m | [0;m15;0
[1;36m       LC_TERMINAL_VERSION[0;m[1;35m | [0;m3.4.19
[1;36m         DYLD_LIBRARY_PATH[0;m[1;35m | [0;m/Users/david/code/engine/build/lib:/Users/david/IBMMQ/9.2.0.0-IBM-MQ-Toolkit-MacX64/lib64:/Users/david/local/lib
[1;36m          ITERM_SESSION_ID[0;m[1;35m | [0;mw0t3p0:C951A5DF-14E6-49A2-B328-EB052F0DA7EB
[1;36m                   LOGNAME[0;m[1;35m | [0;mdavid
[1;36m                  GEM_PATH[0;m[1;35m | [0;m/Users/david/.rvm/gems/ruby-2.6.3:/Users/david/.rvm/gems/ruby-2.6.3@global
[1;36m                  LC_CTYPE[0;m[1;35m | [0;mUTF-8
[1;36m               LC_TERMINAL[0;m[1;35m | [0;miTerm2
[1;36m                   DISPLAY[0;m[1;35m | [0;m/private/tmp/com.apple.launchd.yRMkPFnpJu/org.macosforge.xquartz:0
[1;36m              RUBY_VERSION[0;m[1;35m | [0;mruby-2.6.3
[1;36m                 COLORTERM[0;m[1;35m | [0;mtruecolor
[1;36m                         _[0;m[1;35m | [0;m/Users/david/Projects/planck_proxy/planck_proxy/_venv/bin/planckproxy
13.11.2023 15:48:27.f - DEBUG - [1;35mâ”Œ Keys in this keyring (as stored in keys.db)[0;m
                          [1;35m | [0;mFalse
13.11.2023 15:48:27.f - DEBUG - [1;35mâ”Œ Headers in original message (as seen by non-planck clients)[0;m
[1;36m                      From[0;m[1;35m | [0;m"Alice" <alice@pep.security>
[1;36m              Delivered-To[0;m[1;35m | [0;mbob@pep.security
[1;36m                        To[0;m[1;35m | [0;m"Bob" <bob@pep.security>
[1;36m                   Subject[0;m[1;35m | [0;mHello world!
[1;36m                      Date[0;m[1;35m | [0;mMon, 30 Jan 2023 09:00:00 +0200
[1;36m                Message-ID[0;m[1;35m | [0;m<1fZtkf-2oQ-00@pep.security>
13.11.2023 15:48:27.f - DEBUG - Processing message from [1;32mAlice[0;m[1;33m <alice@pep.security>[0;m to [1;32mBob[0;m[1;33m <bob@pep.security>[0;m
13.11.2023 15:48:27.f - DEBUG - planck-parsed message: [1;36m/Users/david/Projects/planck_proxy/proxy_home/work/bob@pep.security/alice@pep.security/2023.11.13-15.48.27.321849/in.decrypt.parsed.eml[0;m
13.11.2023 15:48:27.f - DEBUG - [1;32mDecrypting message via planck...[0;m
13.11.2023 15:48:27.f - DEBUG - [1;32mDecrypted in[0;m [1;35m0.000782s[0;m
13.11.2023 15:48:27.f - DEBUG - Message rating unencrypted
13.11.2023 15:48:27.f - DEBUG - [1;31mOriginal message was NOT encrypted[0;m
13.11.2023 15:48:27.f - DEBUG - planck-processed message: [1;36m/Users/david/Projects/planck_proxy/proxy_home/work/bob@pep.security/alice@pep.security/2023.11.13-15.48.27.321849/in.decrypt.processed.eml[0;m
Message-ID: <1fZtkf-2oQ-00@pep.security>
Date: Mon, 30 Jan 2023 07:00:00 +0000
From: Alice <alice@pep.security>
To: Bob <bob@pep.security>
Subject: Hello world!
Delivered-To: bob@pep.security
MIME-Version: 1.0
Content-Type: text/plain
Content-Transfer-Encoding: 7bit

Hello encrypted world!

13.11.2023 15:48:27.f - DEBUG - Passing decrypted message to scanner [1;33mSpamAssassin[0;m
13.11.2023 15:48:27.f - DEBUG - Result: [1;32mPASS[0;m
13.11.2023 15:48:27.f - DEBUG - [1;32mSTDOUT:
[0;m                          [1;35m | [0;malice@pep.security
13.11.2023 15:48:27.f - DEBUG - Passing decrypted message to scanner [1;33mClamAV[0;m
13.11.2023 15:48:27.f - DEBUG - Result: [1;32mPASS[0;m
13.11.2023 15:48:27.f - DEBUG - [1;32mSTDOUT:
[0;m                          [1;35m | [0;m'hola'
13.11.2023 15:48:27.f - DEBUG - Combined scan results:
[1;36m              SpamAssassin[0;m[1;35m | [0;m0
[1;36m                    ClamAV[0;m[1;35m | [0;m0
13.11.2023 15:48:27.f - DEBUG - All scans [1;32mPASSED[0;m, relaying message [1;35m0.000259s[0;m
13.11.2023 15:48:27.f - DEBUG - Sending mail
13.11.2023 15:48:27.f - DEBUG - Sending mail
13.11.2023 15:48:27.f - DEBUG - From: [1;32mAlice[0;m[1;33m <alice@pep.security>[0;m
13.11.2023 15:48:27.f - DEBUG -   To: [1;32mBob[0;m[1;33m <bob@pep.security>[0;m
13.11.2023 15:48:27.f - DEBUG - Sending message:
From: "Alice" <alice@pep.security>
To: "Bob" <bob@pep.security>
Subject: Hello world!
Date: Mon, 30 Jan 2023 09:00:00 +0200
Message-ID: <1fZtkf-2oQ-00@pep.security>

Hello encrypted world!

13.11.2023 15:48:39.f - DEBUG - [1;31m!!! planck proxy - Unhandled exception !!![0;m
13.11.2023 15:48:39.f - DEBUG - Traceback (most recent call last):
13.11.2023 15:48:39.f - DEBUG - File "/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/utils/emails.py", line 43, in sendmail
    server.sendmail(msgfrom, msgto, msg.encode("utf8"))
13.11.2023 15:48:39.f - DEBUG - File "/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/smtplib.py", line 885, in sendmail
    raise SMTPSenderRefused(code, resp, from_addr)
13.11.2023 15:48:39.f - DEBUG - smtplib.SMTPSenderRefused: (452, b'4.3.1 Insufficient system storage', 'alice@pep.security')
13.11.2023 15:48:39.f - DEBUG - During handling of the above exception, another exception occurred:
13.11.2023 15:48:39.f - DEBUG - Traceback (most recent call last):
13.11.2023 15:48:39.f - DEBUG - File "/Users/david/Projects/planck_proxy/planck_proxy/_venv/bin/planckproxy", line 8, in <module>
    sys.exit(main())
13.11.2023 15:48:39.f - DEBUG - File "/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/planckProxy.py", line 122, in main
    run_proxy(cli_args)
13.11.2023 15:48:39.f - DEBUG - File "/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/planckProxy.py", line 71, in run_proxy
    deliver_mail(message)
13.11.2023 15:48:39.f - DEBUG - File "/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/proxy_main.py", line 553, in deliver_mail
    sendmail(message.inmail, recipient=message.msgto)
13.11.2023 15:48:39.f - DEBUG - File "/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/utils/emails.py", line 43, in sendmail
    server.sendmail(msgfrom, msgto, msg.encode("utf8"))
13.11.2023 15:48:39.f - DEBUG - File "/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/smtplib.py", line 282, in __exit__
    code, message = self.docmd("QUIT")
13.11.2023 15:48:39.f - DEBUG - File "/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/smtplib.py", line 430, in docmd
    return self.getreply()
13.11.2023 15:48:39.f - DEBUG - File "/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/smtplib.py", line 396, in getreply
    line = self.file.readline(_MAXLINE + 1)
13.11.2023 15:48:39.f - DEBUG - File "/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/socket.py", line 669, in readinto
    return self._sock.recv_into(b)
13.11.2023 15:48:39.f - DEBUG - KeyboardInterrupt
13.11.2023 15:48:39.f - DEBUG - Sending message to [1;32msomeone@yourcompany.tld[0;m, subject: [1;33m[FATAL] planck proxy @ 1.0.0.127.in-addr.arpa crashed![0;m
13.11.2023 15:48:39.f - DEBUG - Sending message:
Content-type: text/html; charset=UTF-8
From: proxy@1.0.0.127.in-addr.arpa
To: someone@yourcompany.tld
Subject: [FATAL] planck proxy @ 1.0.0.127.in-addr.arpa crashed!

<html><head><style>.console { font-family: Courier New; font-size: 13px; line-height: 14px; width: 100%; }</style></head><body topmargin="0" leftmargin="0" marginwidth="0" marginheight="0"><table class="console"><tr><td>Traceback (most recent call last):
  File "/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/utils/emails.py", line 43, in sendmail
    server.sendmail(msgfrom, msgto, msg.encode("utf8"))
  File "/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/smtplib.py", line 885, in sendmail
    raise SMTPSenderRefused(code, resp, from_addr)
smtplib.SMTPSenderRefused: (452, b'4.3.1 Insufficient system storage', 'alice@pep.security')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/david/Projects/planck_proxy/planck_proxy/_venv/bin/planckproxy", line 8, in <module>
    sys.exit(main())
  File "/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/planckProxy.py", line 122, in main
    run_proxy(cli_args)
  File "/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/planckProxy.py", line 71, in run_proxy
    deliver_mail(message)
  File "/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/proxy_main.py", line 553, in deliver_mail
    sendmail(message.inmail, recipient=message.msgto)
  File "/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/utils/emails.py", line 43, in sendmail
    server.sendmail(msgfrom, msgto, msg.encode("utf8"))
  File "/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/smtplib.py", line 282, in __exit__
    code, message = self.docmd("QUIT")
  File "/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/smtplib.py", line 430, in docmd
    return self.getreply()
  File "/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/smtplib.py", line 396, in getreply
    line = self.file.readline(_MAXLINE + 1)
  File "/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/socket.py", line 669, in readinto
    return self._sock.recv_into(b)
KeyboardInterrupt
<br>================================================================================<br><br>SETTINGS&nbsp;IMPORTED&nbsp;with&nbsp;&#x27;HOME&#x27;&nbsp;as&nbsp;/Users/david/Projects/planck_proxy/proxy_home<br>
=====&nbsp;<font color="#00bb00">planck&nbsp;proxy&nbsp;started</font>&nbsp;in&nbsp;mode&nbsp;<font color="#ff8800">decrypt</font>&nbsp;|&nbsp;PID&nbsp;<font color="#ff00ff">69521</font>&nbsp;|&nbsp;UID&nbsp;<font color="#5555ff">501</font>&nbsp;|&nbsp;GID&nbsp;<font color="#666666">20</font>&nbsp;=====<br>
<font color="#ff00ff">â”Œ&nbsp;Parameters</font><br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mode</font><font color="#ff00ff">&nbsp;|&nbsp;</font>decrypt<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;settings_file</font><font color="#ff00ff">&nbsp;|&nbsp;</font>./settings.json<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file</font><font color="#ff00ff">&nbsp;|&nbsp;</font>./tests/emails/basic.eml<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DEBUG</font><font color="#ff00ff">&nbsp;|&nbsp;</font>True<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;recipients</font><font color="#ff00ff">&nbsp;|&nbsp;</font>False<br>
<font color="#ff00ff">â”Œ&nbsp;Settings&nbsp;(except&nbsp;logs)</font><br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logfile</font><font color="#ff00ff">&nbsp;|&nbsp;</font>/Users/david/Projects/planck_proxy/proxy_home/debug.log<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;work_dir</font><font color="#ff00ff">&nbsp;|&nbsp;</font>work<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keys_dir</font><font color="#ff00ff">&nbsp;|&nbsp;</font>keys<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;home</font><font color="#ff00ff">&nbsp;|&nbsp;</font>/Users/david/Projects/planck_proxy/proxy_home<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;recipients</font><font color="#ff00ff">&nbsp;|&nbsp;</font>False<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mode</font><font color="#ff00ff">&nbsp;|&nbsp;</font>decrypt<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;settings_file</font><font color="#ff00ff">&nbsp;|&nbsp;</font>./settings.json<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file</font><font color="#ff00ff">&nbsp;|&nbsp;</font>./tests/emails/basic.eml<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DEBUG</font><font color="#ff00ff">&nbsp;|&nbsp;</font>True<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SMTP_HOST</font><font color="#ff00ff">&nbsp;|&nbsp;</font>127.0.0.1<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SMTP_PORT</font><font color="#ff00ff">&nbsp;|&nbsp;</font>25<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;admin_addr</font><font color="#ff00ff">&nbsp;|&nbsp;</font>someone@yourcompany.tld<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sq_bin</font><font color="#ff00ff">&nbsp;|&nbsp;</font>/usr/local/bin/sq<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dts_domains</font><font color="#ff00ff">&nbsp;|&nbsp;</font>yourcompany.tld<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scan_pipes</font><font color="#ff00ff">&nbsp;|&nbsp;</font><font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name</font><font color="#ff00ff">&nbsp;|&nbsp;</font>SpamAssassin<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ff00ff">&nbsp;|&nbsp;</font><font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cmd</font><font color="#ff00ff">&nbsp;|&nbsp;</font>ls<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ff00ff">&nbsp;|&nbsp;</font><font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name</font><font color="#ff00ff">&nbsp;|&nbsp;</font>ClamAV<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ff00ff">&nbsp;|&nbsp;</font><font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cmd</font><font color="#ff00ff">&nbsp;|&nbsp;</font>echo&nbsp;&#x27;hola&#x27;<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;locktimeout</font><font color="#ff00ff">&nbsp;|&nbsp;</font>60<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lastactiontime</font><font color="#ff00ff">&nbsp;|&nbsp;</font>2023-11-13&nbsp;15:48:27.315724<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logpath</font><font color="#ff00ff">&nbsp;|&nbsp;</font>None<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dts</font><font color="#ff00ff">&nbsp;|&nbsp;</font>None<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lockfilepath</font><font color="#ff00ff">&nbsp;|&nbsp;</font>/Users/david/Projects/planck_proxy/proxy_home/proxy.lock<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;project_root</font><font color="#ff00ff">&nbsp;|&nbsp;</font>/Users/david/Projects/planck_proxy/planck_proxy/src/proxy<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;database_folder</font><font color="#ff00ff">&nbsp;|&nbsp;</font>.pEp<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;thisactiontime</font><font color="#ff00ff">&nbsp;|&nbsp;</font>2023-11-13&nbsp;15:48:27.315724<br>
Data&nbsp;has&nbsp;been&nbsp;read<br>
init&nbsp;workdir&nbsp;to&nbsp;/Users/david/Projects/planck_proxy/proxy_home/work/bob@pep.security<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Message&nbsp;from:&nbsp;<font color="#ff00ff">alice@pep.security</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Message&nbsp;to:&nbsp;<font color="#ff00ff">bob@pep.security</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;Initital&nbsp;import:&nbsp;No<br>
&nbsp;&nbsp;&nbsp;Original&nbsp;message:&nbsp;<font color="#5555ff">/Users/david/Projects/planck_proxy/proxy_home/work/bob@pep.security/alice@pep.security/2023.11.13-15.48.27.321849/in.decrypt.original.eml</font><br>
init&nbsp;logpath&nbsp;to&nbsp;/Users/david/Projects/planck_proxy/proxy_home/work/bob@pep.security/alice@pep.security/2023.11.13-15.48.27.321849<br>
planck&nbsp;core&nbsp;(pâ‰¡p&nbsp;Python&nbsp;adapter&nbsp;version&nbsp;0.3,&nbsp;pâ‰¡p&nbsp;version&nbsp;2.1,&nbsp;planck&nbsp;core&nbsp;version&nbsp;2.1.49)&nbsp;loaded&nbsp;in&nbsp;<font color="#ff00ff">0.074109s</font><br>
<font color="#ff00ff">â”Œ&nbsp;Keys&nbsp;in&nbsp;this&nbsp;keyring&nbsp;(as&nbsp;stored&nbsp;in&nbsp;keys.db)</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ff00ff">&nbsp;|&nbsp;</font>False<br>
<font color="#ff00ff">â”Œ&nbsp;Headers&nbsp;in&nbsp;original&nbsp;message&nbsp;(as&nbsp;seen&nbsp;by&nbsp;non-planck&nbsp;clients)</font><br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;From</font><font color="#ff00ff">&nbsp;|&nbsp;</font>&quot;Alice&quot;&nbsp;&lt;alice@pep.security&gt;<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Delivered-To</font><font color="#ff00ff">&nbsp;|&nbsp;</font>bob@pep.security<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;To</font><font color="#ff00ff">&nbsp;|&nbsp;</font>&quot;Bob&quot;&nbsp;&lt;bob@pep.security&gt;<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Subject</font><font color="#ff00ff">&nbsp;|&nbsp;</font>Hello&nbsp;world!<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Date</font><font color="#ff00ff">&nbsp;|&nbsp;</font>Mon,&nbsp;30&nbsp;Jan&nbsp;2023&nbsp;09:00:00&nbsp;+0200<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Message-ID</font><font color="#ff00ff">&nbsp;|&nbsp;</font>&lt;1fZtkf-2oQ-00@pep.security&gt;<br>
Processing&nbsp;message&nbsp;from&nbsp;<font color="#00bb00">Alice</font><font color="#ff8800">&nbsp;&lt;alice@pep.security&gt;</font>&nbsp;to&nbsp;<font color="#00bb00">Bob</font><font color="#ff8800">&nbsp;&lt;bob@pep.security&gt;</font><br>
planck-parsed&nbsp;message:&nbsp;<font color="#5555ff">/Users/david/Projects/planck_proxy/proxy_home/work/bob@pep.security/alice@pep.security/2023.11.13-15.48.27.321849/in.decrypt.parsed.eml</font><br>
<font color="#00bb00">Decrypting&nbsp;message&nbsp;via&nbsp;planck...</font><br>
<font color="#00bb00">Decrypted&nbsp;in</font>&nbsp;<font color="#ff00ff">0.000782s</font><br>
Message&nbsp;rating&nbsp;unencrypted<br>
<font color="#ff0000">Original&nbsp;message&nbsp;was&nbsp;NOT&nbsp;encrypted</font><br>
planck-processed&nbsp;message:&nbsp;<font color="#5555ff">/Users/david/Projects/planck_proxy/proxy_home/work/bob@pep.security/alice@pep.security/2023.11.13-15.48.27.321849/in.decrypt.processed.eml</font><br>
Message-ID:&nbsp;&lt;1fZtkf-2oQ-00@pep.security&gt;<br>
Date:&nbsp;Mon,&nbsp;30&nbsp;Jan&nbsp;2023&nbsp;07:00:00&nbsp;+0000<br>
From:&nbsp;Alice&nbsp;&lt;alice@pep.security&gt;<br>
To:&nbsp;Bob&nbsp;&lt;bob@pep.security&gt;<br>
Subject:&nbsp;Hello&nbsp;world!<br>
MIME-Version:&nbsp;1.0<br>
Content-Type:&nbsp;text/plain<br>
Content-Transfer-Encoding:&nbsp;7bit<br>
<br>
Hello&nbsp;encrypted&nbsp;world!<br>
<br>
Passing&nbsp;decrypted&nbsp;message&nbsp;to&nbsp;scanner&nbsp;<font color="#ff8800">SpamAssassin</font><br>
Result:&nbsp;<font color="#00bb00">PASS</font><br>
<font color="#00bb00">STDOUT:<br>
</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ff00ff">&nbsp;|&nbsp;</font>alice@pep.security<br>
Passing&nbsp;decrypted&nbsp;message&nbsp;to&nbsp;scanner&nbsp;<font color="#ff8800">ClamAV</font><br>
Result:&nbsp;<font color="#00bb00">PASS</font><br>
<font color="#00bb00">STDOUT:<br>
</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ff00ff">&nbsp;|&nbsp;</font>&#x27;hola&#x27;<br>
Combined&nbsp;scan&nbsp;results:<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SpamAssassin</font><font color="#ff00ff">&nbsp;|&nbsp;</font>0<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ClamAV</font><font color="#ff00ff">&nbsp;|&nbsp;</font>0<br>
All&nbsp;scans&nbsp;<font color="#00bb00">PASSED</font>,&nbsp;relaying&nbsp;message&nbsp;<font color="#ff00ff">0.000259s</font><br>
Sending&nbsp;mail<br>
Sending&nbsp;mail<br>
From:&nbsp;<font color="#00bb00">Alice</font><font color="#ff8800">&nbsp;&lt;alice@pep.security&gt;</font><br>
&nbsp;&nbsp;To:&nbsp;<font color="#00bb00">Bob</font><font color="#ff8800">&nbsp;&lt;bob@pep.security&gt;</font><br>
Sending&nbsp;message:<br>
From:&nbsp;&quot;Alice&quot;&nbsp;&lt;alice@pep.security&gt;<br>
To:&nbsp;&quot;Bob&quot;&nbsp;&lt;bob@pep.security&gt;<br>
Subject:&nbsp;Hello&nbsp;world!<br>
Date:&nbsp;Mon,&nbsp;30&nbsp;Jan&nbsp;2023&nbsp;09:00:00&nbsp;+0200<br>
Message-ID:&nbsp;&lt;1fZtkf-2oQ-00@pep.security&gt;<br>
<br>
Hello&nbsp;encrypted&nbsp;world!<br>
<br>
<font color="#ff0000">!!!&nbsp;planck&nbsp;proxy&nbsp;-&nbsp;Unhandled&nbsp;exception&nbsp;!!!</font><br>
Traceback&nbsp;(most&nbsp;recent&nbsp;call&nbsp;last):<br>
File&nbsp;&quot;/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/utils/emails.py&quot;,&nbsp;line&nbsp;43,&nbsp;in&nbsp;sendmail<br>
&nbsp;&nbsp;&nbsp;&nbsp;server.sendmail(msgfrom,&nbsp;msgto,&nbsp;msg.encode(&quot;utf8&quot;))<br>
File&nbsp;&quot;/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/smtplib.py&quot;,&nbsp;line&nbsp;885,&nbsp;in&nbsp;sendmail<br>
&nbsp;&nbsp;&nbsp;&nbsp;raise&nbsp;SMTPSenderRefused(code,&nbsp;resp,&nbsp;from_addr)<br>
smtplib.SMTPSenderRefused:&nbsp;(452,&nbsp;b&#x27;4.3.1&nbsp;Insufficient&nbsp;system&nbsp;storage&#x27;,&nbsp;&#x27;alice@pep.security&#x27;)<br>
During&nbsp;handling&nbsp;of&nbsp;the&nbsp;above&nbsp;exception,&nbsp;another&nbsp;exception&nbsp;occurred:<br>
Traceback&nbsp;(most&nbsp;recent&nbsp;call&nbsp;last):<br>
File&nbsp;&quot;/Users/david/Projects/planck_proxy/planck_proxy/_venv/bin/planckproxy&quot;,&nbsp;line&nbsp;8,&nbsp;in&nbsp;&lt;module&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;sys.exit(main())<br>
File&nbsp;&quot;/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/planckProxy.py&quot;,&nbsp;line&nbsp;122,&nbsp;in&nbsp;main<br>
&nbsp;&nbsp;&nbsp;&nbsp;run_proxy(cli_args)<br>
File&nbsp;&quot;/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/planckProxy.py&quot;,&nbsp;line&nbsp;71,&nbsp;in&nbsp;run_proxy<br>
&nbsp;&nbsp;&nbsp;&nbsp;deliver_mail(message)<br>
File&nbsp;&quot;/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/proxy_main.py&quot;,&nbsp;line&nbsp;553,&nbsp;in&nbsp;deliver_mail<br>
&nbsp;&nbsp;&nbsp;&nbsp;sendmail(message.inmail,&nbsp;recipient=message.msgto)<br>
File&nbsp;&quot;/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/utils/emails.py&quot;,&nbsp;line&nbsp;43,&nbsp;in&nbsp;sendmail<br>
&nbsp;&nbsp;&nbsp;&nbsp;server.sendmail(msgfrom,&nbsp;msgto,&nbsp;msg.encode(&quot;utf8&quot;))<br>
File&nbsp;&quot;/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/smtplib.py&quot;,&nbsp;line&nbsp;282,&nbsp;in&nbsp;__exit__<br>
&nbsp;&nbsp;&nbsp;&nbsp;code,&nbsp;message&nbsp;=&nbsp;self.docmd(&quot;QUIT&quot;)<br>
File&nbsp;&quot;/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/smtplib.py&quot;,&nbsp;line&nbsp;430,&nbsp;in&nbsp;docmd<br>
&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.getreply()<br>
File&nbsp;&quot;/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/smtplib.py&quot;,&nbsp;line&nbsp;396,&nbsp;in&nbsp;getreply<br>
&nbsp;&nbsp;&nbsp;&nbsp;line&nbsp;=&nbsp;self.file.readline(_MAXLINE&nbsp;+&nbsp;1)<br>
File&nbsp;&quot;/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/socket.py&quot;,&nbsp;line&nbsp;669,&nbsp;in&nbsp;readinto<br>
&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self._sock.recv_into(b)<br>
KeyboardInterrupt<br>
Sending&nbsp;message&nbsp;to&nbsp;<font color="#00bb00">someone@yourcompany.tld</font>,&nbsp;subject:&nbsp;<font color="#ff8800">[FATAL]&nbsp;planck&nbsp;proxy&nbsp;@&nbsp;1.0.0.127.in-addr.arpa&nbsp;crashed!</font><br>
</td></tr></table></body></html>
13.11.2023 15:48:40.f - DEBUG - Lockfile [1;36m/Users/david/Projects/planck_proxy/proxy_home/proxy.lock[0;m removed
13.11.2023 15:48:40.f - DEBUG - Debug mode, will keep the logged output messages in the work_dir [1;36m/Users/david/Projects/planck_proxy/proxy_home/work/bob@pep.security/alice@pep.security/2023.11.13-15.48.27.321849[0;m
13.11.2023 15:50:20.f - DEBUG - SETTINGS IMPORTED with 'HOME' as /Users/david/Projects/planck_proxy/proxy_home
13.11.2023 15:50:20.f - DEBUG - ===== [1;32mplanck proxy started[0;m in mode [1;33mdecrypt[0;m | PID [1;35m69850[0;m | UID [1;36m501[0;m | GID [1;37m20[0;m =====
13.11.2023 15:50:20.f - DEBUG - [1;35mâ”Œ Parameters[0;m
[1;36m                      mode[0;m[1;35m | [0;mdecrypt
[1;36m             settings_file[0;m[1;35m | [0;m./settings.json
[1;36m                      file[0;m[1;35m | [0;m./tests/emails/basic.eml
[1;36m                     DEBUG[0;m[1;35m | [0;mTrue
[1;36m                recipients[0;m[1;35m | [0;mFalse
13.11.2023 15:50:20.f - DEBUG - [1;35mâ”Œ Settings (except logs)[0;m
[1;36m                   logfile[0;m[1;35m | [0;m/Users/david/Projects/planck_proxy/proxy_home/debug.log
[1;36m                  work_dir[0;m[1;35m | [0;mwork
[1;36m                  keys_dir[0;m[1;35m | [0;mkeys
[1;36m                      home[0;m[1;35m | [0;m/Users/david/Projects/planck_proxy/proxy_home
[1;36m                recipients[0;m[1;35m | [0;mFalse
[1;36m                      mode[0;m[1;35m | [0;mdecrypt
[1;36m             settings_file[0;m[1;35m | [0;m./settings.json
[1;36m                      file[0;m[1;35m | [0;m./tests/emails/basic.eml
[1;36m                     DEBUG[0;m[1;35m | [0;mTrue
[1;36m                 SMTP_HOST[0;m[1;35m | [0;m127.0.0.1
[1;36m                 SMTP_PORT[0;m[1;35m | [0;m25
[1;36m                admin_addr[0;m[1;35m | [0;msomeone@yourcompany.tld
[1;36m                    sq_bin[0;m[1;35m | [0;m/usr/local/bin/sq
[1;36m               dts_domains[0;m[1;35m | [0;myourcompany.tld
[1;36m                scan_pipes[0;m[1;35m | [0;m[1;36m      name[0;m[1;35m | [0;mSpamAssassin
                          [1;35m | [0;m[1;36m       cmd[0;m[1;35m | [0;mls
                          [1;35m | [0;m[1;36m      name[0;m[1;35m | [0;mClamAV
                          [1;35m | [0;m[1;36m       cmd[0;m[1;35m | [0;mecho 'hola'
[1;36m               locktimeout[0;m[1;35m | [0;m60
[1;36m            lastactiontime[0;m[1;35m | [0;m2023-11-13 15:50:20.786210
[1;36m                   logpath[0;m[1;35m | [0;mNone
[1;36m                       dts[0;m[1;35m | [0;mNone
[1;36m              lockfilepath[0;m[1;35m | [0;m/Users/david/Projects/planck_proxy/proxy_home/proxy.lock
[1;36m              project_root[0;m[1;35m | [0;m/Users/david/Projects/planck_proxy/planck_proxy/src/proxy
[1;36m           database_folder[0;m[1;35m | [0;m.pEp
[1;36m            thisactiontime[0;m[1;35m | [0;m2023-11-13 15:50:20.786210
13.11.2023 15:50:20.f - DEBUG - Lockfile created
13.11.2023 15:50:20.f - DEBUG - Reading message (to confirm press CTRL+D on an empty line)...
13.11.2023 15:50:20.f - DEBUG - Data has been read
13.11.2023 15:50:20.f - DEBUG - init workdir to /Users/david/Projects/planck_proxy/proxy_home/work/bob@pep.security
13.11.2023 15:50:20.f - DEBUG -        Message from: [1;35malice@pep.security[0;m
13.11.2023 15:50:20.f - DEBUG -          Message to: [1;35mbob@pep.security[0;m
13.11.2023 15:50:20.f - DEBUG -     Initital import: No
13.11.2023 15:50:20.f - DEBUG -    Original message: [1;36m/Users/david/Projects/planck_proxy/proxy_home/work/bob@pep.security/alice@pep.security/2023.11.13-15.50.20.791113/in.decrypt.original.eml[0;m
13.11.2023 15:50:20.f - DEBUG - init logpath to /Users/david/Projects/planck_proxy/proxy_home/work/bob@pep.security/alice@pep.security/2023.11.13-15.50.20.791113
13.11.2023 15:50:20.f - DEBUG - planck core (pâ‰¡p Python adapter version 0.3, pâ‰¡p version 2.1, planck core version 2.1.49) loaded in [1;35m0.059478s[0;m
13.11.2023 15:50:20.f - DEBUG - [1;35mâ”Œ Environment variables[0;m
[1;36m              rvm_bin_path[0;m[1;35m | [0;m/Users/david/.rvm/bin
[1;36m              TERM_PROGRAM[0;m[1;35m | [0;miTerm.app
[1;36m                  GEM_HOME[0;m[1;35m | [0;m/Users/david/.rvm/gems/ruby-2.6.3
[1;36m                      TERM[0;m[1;35m | [0;mxterm-256color
[1;36m                     SHELL[0;m[1;35m | [0;m/bin/bash
[1;36m                     IRBRC[0;m[1;35m | [0;m/Users/david/.rvm/rubies/ruby-2.6.3/.irbrc
[1;36m                    TMPDIR[0;m[1;35m | [0;m/var/folders/r_/yy4gmj_j76b3jy6td69ptcd80000gn/T/
[1;36m      TERM_PROGRAM_VERSION[0;m[1;35m | [0;m3.4.19
[1;36m                    OLDPWD[0;m[1;35m | [0;m/Users/david/Projects/planck_proxy
[1;36m              MY_RUBY_HOME[0;m[1;35m | [0;m/Users/david/.rvm/rubies/ruby-2.6.3
[1;36m           TERM_SESSION_ID[0;m[1;35m | [0;mw0t3p0:C951A5DF-14E6-49A2-B328-EB052F0DA7EB
[1;36m                    LC_ALL[0;m[1;35m | [0;men_US.UTF-8
[1;36m                      USER[0;m[1;35m | [0;mdavid
[1;36m           LD_LIBRARY_PATH[0;m[1;35m | [0;m:/Users/david/local/lib
[1;36m              COMMAND_MODE[0;m[1;35m | [0;munix2003
[1;36m                  rvm_path[0;m[1;35m | [0;m/Users/david/.rvm
[1;36m             SSH_AUTH_SOCK[0;m[1;35m | [0;m/private/tmp/com.apple.launchd.xhxQuS5MRQ/Listeners
[1;36mPYENV_VIRTUALENV_DISABLE_PROMPT[0;m[1;35m | [0;m1
[1;36m   __CF_USER_TEXT_ENCODING[0;m[1;35m | [0;m0x1F5:0x0:0x0
[1;36m               VIRTUAL_ENV[0;m[1;35m | [0;m/Users/david/Projects/planck_proxy/planck_proxy/_venv
[1;36m                rvm_prefix[0;m[1;35m | [0;m/Users/david
[1;36m                      PATH[0;m[1;35m | [0;m/Users/david/Projects/planck_proxy/planck_proxy/_venv/bin:/opt/local/bin:/opt/local/sbin:/Users/david/.rvm/gems/ruby-2.6.3/bin:/Users/david/.rvm/gems/ruby-2.6.3@global/bin:/Users/david/.rvm/rubies/ruby-2.6.3/bin:/Users/david/.cargo/bin:/usr/local/opt/gettext/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Users/david/IBMMQ/9.2.0.0-IBM-MQ-Toolkit-MacX64/bin:/Users/david/IBMMQ/9.2.0.0-IBM-MQ-Toolkit-MacX64/samp/bin:/opt/local/lib/postgresql10/bin:/usr/local/MacGPG2/bin:/opt/X11/bin:/Library/Apple/usr/bin:/Applications/Postgres.app/Contents/Versions/latest/bin:/Users/david/gsutil:/Users/david/.rvm/bin:/Users/david/src/yml2
[1;36m      __CFBundleIdentifier[0;m[1;35m | [0;mcom.googlecode.iterm2
[1;36m                       PWD[0;m[1;35m | [0;m/Users/david/Projects/planck_proxy/planck_proxy
[1;36m                      LANG[0;m[1;35m | [0;men_US.UTF-8
[1;36m             ITERM_PROFILE[0;m[1;35m | [0;mDefault
[1;36m                 XPC_FLAGS[0;m[1;35m | [0;m0x0
[1;36m                       PS1[0;m[1;35m | [0;m(_venv) \[\033[0;31m\]\u\[\033[0m\]@\[\033[0;32m\]\h\[\033[0m\]:\[\033[0;36m\]\w\[\033[0m\] $ 
[1;36m          XPC_SERVICE_NAME[0;m[1;35m | [0;m0
[1;36m               rvm_version[0;m[1;35m | [0;m1.29.9 (latest)
[1;36m                     SHLVL[0;m[1;35m | [0;m1
[1;36m                      HOME[0;m[1;35m | [0;m/Users/david/Projects/planck_proxy/proxy_home/work/bob@pep.security
[1;36m                 COLORFGBG[0;m[1;35m | [0;m15;0
[1;36m       LC_TERMINAL_VERSION[0;m[1;35m | [0;m3.4.19
[1;36m         DYLD_LIBRARY_PATH[0;m[1;35m | [0;m/Users/david/code/engine/build/lib:/Users/david/IBMMQ/9.2.0.0-IBM-MQ-Toolkit-MacX64/lib64:/Users/david/local/lib
[1;36m          ITERM_SESSION_ID[0;m[1;35m | [0;mw0t3p0:C951A5DF-14E6-49A2-B328-EB052F0DA7EB
[1;36m                   LOGNAME[0;m[1;35m | [0;mdavid
[1;36m                  GEM_PATH[0;m[1;35m | [0;m/Users/david/.rvm/gems/ruby-2.6.3:/Users/david/.rvm/gems/ruby-2.6.3@global
[1;36m                  LC_CTYPE[0;m[1;35m | [0;mUTF-8
[1;36m               LC_TERMINAL[0;m[1;35m | [0;miTerm2
[1;36m                   DISPLAY[0;m[1;35m | [0;m/private/tmp/com.apple.launchd.yRMkPFnpJu/org.macosforge.xquartz:0
[1;36m              RUBY_VERSION[0;m[1;35m | [0;mruby-2.6.3
[1;36m                 COLORTERM[0;m[1;35m | [0;mtruecolor
[1;36m                         _[0;m[1;35m | [0;m/Users/david/Projects/planck_proxy/planck_proxy/_venv/bin/planckproxy
13.11.2023 15:50:20.f - DEBUG - [1;35mâ”Œ Keys in this keyring (as stored in keys.db)[0;m
                          [1;35m | [0;mFalse
13.11.2023 15:50:20.f - DEBUG - [1;35mâ”Œ Headers in original message (as seen by non-planck clients)[0;m
[1;36m                      From[0;m[1;35m | [0;m"Alice" <alice@pep.security>
[1;36m              Delivered-To[0;m[1;35m | [0;mbob@pep.security
[1;36m                        To[0;m[1;35m | [0;m"Bob" <bob@pep.security>
[1;36m                   Subject[0;m[1;35m | [0;mHello world!
[1;36m                      Date[0;m[1;35m | [0;mMon, 30 Jan 2023 09:00:00 +0200
[1;36m                Message-ID[0;m[1;35m | [0;m<1fZtkf-2oQ-00@pep.security>
13.11.2023 15:50:20.f - DEBUG - Processing message from [1;32mAlice[0;m[1;33m <alice@pep.security>[0;m to [1;32mBob[0;m[1;33m <bob@pep.security>[0;m
13.11.2023 15:50:20.f - DEBUG - planck-parsed message: [1;36m/Users/david/Projects/planck_proxy/proxy_home/work/bob@pep.security/alice@pep.security/2023.11.13-15.50.20.791113/in.decrypt.parsed.eml[0;m
13.11.2023 15:50:20.f - DEBUG - [1;32mDecrypting message via planck...[0;m
13.11.2023 15:50:20.f - DEBUG - [1;32mDecrypted in[0;m [1;35m0.000596s[0;m
13.11.2023 15:50:20.f - DEBUG - Message rating unencrypted
13.11.2023 15:50:20.f - DEBUG - [1;31mOriginal message was NOT encrypted[0;m
13.11.2023 15:50:20.f - DEBUG - planck-processed message: [1;36m/Users/david/Projects/planck_proxy/proxy_home/work/bob@pep.security/alice@pep.security/2023.11.13-15.50.20.791113/in.decrypt.processed.eml[0;m
Message-ID: <1fZtkf-2oQ-00@pep.security>
Date: Mon, 30 Jan 2023 07:00:00 +0000
From: Alice <alice@pep.security>
To: Bob <bob@pep.security>
Subject: Hello world!
Delivered-To: bob@pep.security
MIME-Version: 1.0
Content-Type: text/plain
Content-Transfer-Encoding: 7bit

Hello encrypted world!

13.11.2023 15:50:20.f - DEBUG - Passing decrypted message to scanner [1;33mSpamAssassin[0;m
13.11.2023 15:50:20.f - DEBUG - Result: [1;32mPASS[0;m
13.11.2023 15:50:20.f - DEBUG - [1;32mSTDOUT:
[0;m                          [1;35m | [0;malice@pep.security
13.11.2023 15:50:20.f - DEBUG - Passing decrypted message to scanner [1;33mClamAV[0;m
13.11.2023 15:50:20.f - DEBUG - Result: [1;32mPASS[0;m
13.11.2023 15:50:20.f - DEBUG - [1;32mSTDOUT:
[0;m                          [1;35m | [0;m'hola'
13.11.2023 15:50:20.f - DEBUG - Combined scan results:
[1;36m              SpamAssassin[0;m[1;35m | [0;m0
[1;36m                    ClamAV[0;m[1;35m | [0;m0
13.11.2023 15:50:20.f - DEBUG - All scans [1;32mPASSED[0;m, relaying message [1;35m0.000318s[0;m
13.11.2023 15:50:20.f - DEBUG - Sending mail
13.11.2023 15:50:20.f - DEBUG - Sending mail
13.11.2023 15:50:20.f - DEBUG - From: [1;32mAlice[0;m[1;33m <alice@pep.security>[0;m
13.11.2023 15:50:20.f - DEBUG -   To: [1;32mBob[0;m[1;33m <bob@pep.security>[0;m
13.11.2023 15:50:20.f - DEBUG - Sending message:
From: "Alice" <alice@pep.security>
To: "Bob" <bob@pep.security>
Subject: Hello world!
Date: Mon, 30 Jan 2023 09:00:00 +0200
Message-ID: <1fZtkf-2oQ-00@pep.security>

Hello encrypted world!

13.11.2023 15:50:27.f - DEBUG - [1;31m!!! planck proxy - Unhandled exception !!![0;m
13.11.2023 15:50:27.f - DEBUG - Traceback (most recent call last):
13.11.2023 15:50:27.f - DEBUG - File "/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/utils/emails.py", line 43, in sendmail
    server.sendmail(msgfrom, msgto, msg.encode("utf8"))
13.11.2023 15:50:27.f - DEBUG - File "/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/smtplib.py", line 885, in sendmail
    raise SMTPSenderRefused(code, resp, from_addr)
13.11.2023 15:50:27.f - DEBUG - smtplib.SMTPSenderRefused: (452, b'4.3.1 Insufficient system storage', 'alice@pep.security')
13.11.2023 15:50:27.f - DEBUG - During handling of the above exception, another exception occurred:
13.11.2023 15:50:27.f - DEBUG - Traceback (most recent call last):
13.11.2023 15:50:27.f - DEBUG - File "/Users/david/Projects/planck_proxy/planck_proxy/_venv/bin/planckproxy", line 8, in <module>
    sys.exit(main())
13.11.2023 15:50:27.f - DEBUG - File "/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/planckProxy.py", line 122, in main
    run_proxy(cli_args)
13.11.2023 15:50:27.f - DEBUG - File "/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/planckProxy.py", line 71, in run_proxy
    deliver_mail(message)
13.11.2023 15:50:27.f - DEBUG - File "/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/proxy_main.py", line 553, in deliver_mail
    sendmail(message.inmail, recipient=message.msgto)
13.11.2023 15:50:27.f - DEBUG - File "/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/utils/emails.py", line 43, in sendmail
    server.sendmail(msgfrom, msgto, msg.encode("utf8"))
13.11.2023 15:50:27.f - DEBUG - File "/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/smtplib.py", line 282, in __exit__
    code, message = self.docmd("QUIT")
13.11.2023 15:50:27.f - DEBUG - File "/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/smtplib.py", line 430, in docmd
    return self.getreply()
13.11.2023 15:50:27.f - DEBUG - File "/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/smtplib.py", line 396, in getreply
    line = self.file.readline(_MAXLINE + 1)
13.11.2023 15:50:27.f - DEBUG - File "/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/socket.py", line 669, in readinto
    return self._sock.recv_into(b)
13.11.2023 15:50:27.f - DEBUG - KeyboardInterrupt
13.11.2023 15:50:27.f - DEBUG - Sending message to [1;32msomeone@yourcompany.tld[0;m, subject: [1;33m[FATAL] planck proxy @ 1.0.0.127.in-addr.arpa crashed![0;m
13.11.2023 15:50:27.f - DEBUG - Sending message:
Content-type: text/html; charset=UTF-8
From: proxy@1.0.0.127.in-addr.arpa
To: someone@yourcompany.tld
Subject: [FATAL] planck proxy @ 1.0.0.127.in-addr.arpa crashed!

<html><head><style>.console { font-family: Courier New; font-size: 13px; line-height: 14px; width: 100%; }</style></head><body topmargin="0" leftmargin="0" marginwidth="0" marginheight="0"><table class="console"><tr><td>Traceback (most recent call last):
  File "/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/utils/emails.py", line 43, in sendmail
    server.sendmail(msgfrom, msgto, msg.encode("utf8"))
  File "/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/smtplib.py", line 885, in sendmail
    raise SMTPSenderRefused(code, resp, from_addr)
smtplib.SMTPSenderRefused: (452, b'4.3.1 Insufficient system storage', 'alice@pep.security')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/david/Projects/planck_proxy/planck_proxy/_venv/bin/planckproxy", line 8, in <module>
    sys.exit(main())
  File "/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/planckProxy.py", line 122, in main
    run_proxy(cli_args)
  File "/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/planckProxy.py", line 71, in run_proxy
    deliver_mail(message)
  File "/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/proxy_main.py", line 553, in deliver_mail
    sendmail(message.inmail, recipient=message.msgto)
  File "/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/utils/emails.py", line 43, in sendmail
    server.sendmail(msgfrom, msgto, msg.encode("utf8"))
  File "/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/smtplib.py", line 282, in __exit__
    code, message = self.docmd("QUIT")
  File "/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/smtplib.py", line 430, in docmd
    return self.getreply()
  File "/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/smtplib.py", line 396, in getreply
    line = self.file.readline(_MAXLINE + 1)
  File "/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/socket.py", line 669, in readinto
    return self._sock.recv_into(b)
KeyboardInterrupt
<br>================================================================================<br><br>SETTINGS&nbsp;IMPORTED&nbsp;with&nbsp;&#x27;HOME&#x27;&nbsp;as&nbsp;/Users/david/Projects/planck_proxy/proxy_home<br>
=====&nbsp;<font color="#00bb00">planck&nbsp;proxy&nbsp;started</font>&nbsp;in&nbsp;mode&nbsp;<font color="#ff8800">decrypt</font>&nbsp;|&nbsp;PID&nbsp;<font color="#ff00ff">69850</font>&nbsp;|&nbsp;UID&nbsp;<font color="#5555ff">501</font>&nbsp;|&nbsp;GID&nbsp;<font color="#666666">20</font>&nbsp;=====<br>
<font color="#ff00ff">â”Œ&nbsp;Parameters</font><br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mode</font><font color="#ff00ff">&nbsp;|&nbsp;</font>decrypt<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;settings_file</font><font color="#ff00ff">&nbsp;|&nbsp;</font>./settings.json<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file</font><font color="#ff00ff">&nbsp;|&nbsp;</font>./tests/emails/basic.eml<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DEBUG</font><font color="#ff00ff">&nbsp;|&nbsp;</font>True<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;recipients</font><font color="#ff00ff">&nbsp;|&nbsp;</font>False<br>
<font color="#ff00ff">â”Œ&nbsp;Settings&nbsp;(except&nbsp;logs)</font><br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logfile</font><font color="#ff00ff">&nbsp;|&nbsp;</font>/Users/david/Projects/planck_proxy/proxy_home/debug.log<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;work_dir</font><font color="#ff00ff">&nbsp;|&nbsp;</font>work<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keys_dir</font><font color="#ff00ff">&nbsp;|&nbsp;</font>keys<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;home</font><font color="#ff00ff">&nbsp;|&nbsp;</font>/Users/david/Projects/planck_proxy/proxy_home<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;recipients</font><font color="#ff00ff">&nbsp;|&nbsp;</font>False<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mode</font><font color="#ff00ff">&nbsp;|&nbsp;</font>decrypt<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;settings_file</font><font color="#ff00ff">&nbsp;|&nbsp;</font>./settings.json<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file</font><font color="#ff00ff">&nbsp;|&nbsp;</font>./tests/emails/basic.eml<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DEBUG</font><font color="#ff00ff">&nbsp;|&nbsp;</font>True<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SMTP_HOST</font><font color="#ff00ff">&nbsp;|&nbsp;</font>127.0.0.1<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SMTP_PORT</font><font color="#ff00ff">&nbsp;|&nbsp;</font>25<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;admin_addr</font><font color="#ff00ff">&nbsp;|&nbsp;</font>someone@yourcompany.tld<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sq_bin</font><font color="#ff00ff">&nbsp;|&nbsp;</font>/usr/local/bin/sq<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dts_domains</font><font color="#ff00ff">&nbsp;|&nbsp;</font>yourcompany.tld<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scan_pipes</font><font color="#ff00ff">&nbsp;|&nbsp;</font><font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name</font><font color="#ff00ff">&nbsp;|&nbsp;</font>SpamAssassin<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ff00ff">&nbsp;|&nbsp;</font><font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cmd</font><font color="#ff00ff">&nbsp;|&nbsp;</font>ls<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ff00ff">&nbsp;|&nbsp;</font><font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name</font><font color="#ff00ff">&nbsp;|&nbsp;</font>ClamAV<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ff00ff">&nbsp;|&nbsp;</font><font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cmd</font><font color="#ff00ff">&nbsp;|&nbsp;</font>echo&nbsp;&#x27;hola&#x27;<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;locktimeout</font><font color="#ff00ff">&nbsp;|&nbsp;</font>60<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lastactiontime</font><font color="#ff00ff">&nbsp;|&nbsp;</font>2023-11-13&nbsp;15:50:20.786210<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logpath</font><font color="#ff00ff">&nbsp;|&nbsp;</font>None<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dts</font><font color="#ff00ff">&nbsp;|&nbsp;</font>None<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lockfilepath</font><font color="#ff00ff">&nbsp;|&nbsp;</font>/Users/david/Projects/planck_proxy/proxy_home/proxy.lock<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;project_root</font><font color="#ff00ff">&nbsp;|&nbsp;</font>/Users/david/Projects/planck_proxy/planck_proxy/src/proxy<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;database_folder</font><font color="#ff00ff">&nbsp;|&nbsp;</font>.pEp<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;thisactiontime</font><font color="#ff00ff">&nbsp;|&nbsp;</font>2023-11-13&nbsp;15:50:20.786210<br>
Data&nbsp;has&nbsp;been&nbsp;read<br>
init&nbsp;workdir&nbsp;to&nbsp;/Users/david/Projects/planck_proxy/proxy_home/work/bob@pep.security<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Message&nbsp;from:&nbsp;<font color="#ff00ff">alice@pep.security</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Message&nbsp;to:&nbsp;<font color="#ff00ff">bob@pep.security</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;Initital&nbsp;import:&nbsp;No<br>
&nbsp;&nbsp;&nbsp;Original&nbsp;message:&nbsp;<font color="#5555ff">/Users/david/Projects/planck_proxy/proxy_home/work/bob@pep.security/alice@pep.security/2023.11.13-15.50.20.791113/in.decrypt.original.eml</font><br>
init&nbsp;logpath&nbsp;to&nbsp;/Users/david/Projects/planck_proxy/proxy_home/work/bob@pep.security/alice@pep.security/2023.11.13-15.50.20.791113<br>
planck&nbsp;core&nbsp;(pâ‰¡p&nbsp;Python&nbsp;adapter&nbsp;version&nbsp;0.3,&nbsp;pâ‰¡p&nbsp;version&nbsp;2.1,&nbsp;planck&nbsp;core&nbsp;version&nbsp;2.1.49)&nbsp;loaded&nbsp;in&nbsp;<font color="#ff00ff">0.059478s</font><br>
<font color="#ff00ff">â”Œ&nbsp;Keys&nbsp;in&nbsp;this&nbsp;keyring&nbsp;(as&nbsp;stored&nbsp;in&nbsp;keys.db)</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ff00ff">&nbsp;|&nbsp;</font>False<br>
<font color="#ff00ff">â”Œ&nbsp;Headers&nbsp;in&nbsp;original&nbsp;message&nbsp;(as&nbsp;seen&nbsp;by&nbsp;non-planck&nbsp;clients)</font><br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;From</font><font color="#ff00ff">&nbsp;|&nbsp;</font>&quot;Alice&quot;&nbsp;&lt;alice@pep.security&gt;<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Delivered-To</font><font color="#ff00ff">&nbsp;|&nbsp;</font>bob@pep.security<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;To</font><font color="#ff00ff">&nbsp;|&nbsp;</font>&quot;Bob&quot;&nbsp;&lt;bob@pep.security&gt;<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Subject</font><font color="#ff00ff">&nbsp;|&nbsp;</font>Hello&nbsp;world!<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Date</font><font color="#ff00ff">&nbsp;|&nbsp;</font>Mon,&nbsp;30&nbsp;Jan&nbsp;2023&nbsp;09:00:00&nbsp;+0200<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Message-ID</font><font color="#ff00ff">&nbsp;|&nbsp;</font>&lt;1fZtkf-2oQ-00@pep.security&gt;<br>
Processing&nbsp;message&nbsp;from&nbsp;<font color="#00bb00">Alice</font><font color="#ff8800">&nbsp;&lt;alice@pep.security&gt;</font>&nbsp;to&nbsp;<font color="#00bb00">Bob</font><font color="#ff8800">&nbsp;&lt;bob@pep.security&gt;</font><br>
planck-parsed&nbsp;message:&nbsp;<font color="#5555ff">/Users/david/Projects/planck_proxy/proxy_home/work/bob@pep.security/alice@pep.security/2023.11.13-15.50.20.791113/in.decrypt.parsed.eml</font><br>
<font color="#00bb00">Decrypting&nbsp;message&nbsp;via&nbsp;planck...</font><br>
<font color="#00bb00">Decrypted&nbsp;in</font>&nbsp;<font color="#ff00ff">0.000596s</font><br>
Message&nbsp;rating&nbsp;unencrypted<br>
<font color="#ff0000">Original&nbsp;message&nbsp;was&nbsp;NOT&nbsp;encrypted</font><br>
planck-processed&nbsp;message:&nbsp;<font color="#5555ff">/Users/david/Projects/planck_proxy/proxy_home/work/bob@pep.security/alice@pep.security/2023.11.13-15.50.20.791113/in.decrypt.processed.eml</font><br>
Message-ID:&nbsp;&lt;1fZtkf-2oQ-00@pep.security&gt;<br>
Date:&nbsp;Mon,&nbsp;30&nbsp;Jan&nbsp;2023&nbsp;07:00:00&nbsp;+0000<br>
From:&nbsp;Alice&nbsp;&lt;alice@pep.security&gt;<br>
To:&nbsp;Bob&nbsp;&lt;bob@pep.security&gt;<br>
Subject:&nbsp;Hello&nbsp;world!<br>
MIME-Version:&nbsp;1.0<br>
Content-Type:&nbsp;text/plain<br>
Content-Transfer-Encoding:&nbsp;7bit<br>
<br>
Hello&nbsp;encrypted&nbsp;world!<br>
<br>
Passing&nbsp;decrypted&nbsp;message&nbsp;to&nbsp;scanner&nbsp;<font color="#ff8800">SpamAssassin</font><br>
Result:&nbsp;<font color="#00bb00">PASS</font><br>
<font color="#00bb00">STDOUT:<br>
</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ff00ff">&nbsp;|&nbsp;</font>alice@pep.security<br>
Passing&nbsp;decrypted&nbsp;message&nbsp;to&nbsp;scanner&nbsp;<font color="#ff8800">ClamAV</font><br>
Result:&nbsp;<font color="#00bb00">PASS</font><br>
<font color="#00bb00">STDOUT:<br>
</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ff00ff">&nbsp;|&nbsp;</font>&#x27;hola&#x27;<br>
Combined&nbsp;scan&nbsp;results:<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SpamAssassin</font><font color="#ff00ff">&nbsp;|&nbsp;</font>0<br>
<font color="#5555ff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ClamAV</font><font color="#ff00ff">&nbsp;|&nbsp;</font>0<br>
All&nbsp;scans&nbsp;<font color="#00bb00">PASSED</font>,&nbsp;relaying&nbsp;message&nbsp;<font color="#ff00ff">0.000318s</font><br>
Sending&nbsp;mail<br>
Sending&nbsp;mail<br>
From:&nbsp;<font color="#00bb00">Alice</font><font color="#ff8800">&nbsp;&lt;alice@pep.security&gt;</font><br>
&nbsp;&nbsp;To:&nbsp;<font color="#00bb00">Bob</font><font color="#ff8800">&nbsp;&lt;bob@pep.security&gt;</font><br>
Sending&nbsp;message:<br>
From:&nbsp;&quot;Alice&quot;&nbsp;&lt;alice@pep.security&gt;<br>
To:&nbsp;&quot;Bob&quot;&nbsp;&lt;bob@pep.security&gt;<br>
Subject:&nbsp;Hello&nbsp;world!<br>
Date:&nbsp;Mon,&nbsp;30&nbsp;Jan&nbsp;2023&nbsp;09:00:00&nbsp;+0200<br>
Message-ID:&nbsp;&lt;1fZtkf-2oQ-00@pep.security&gt;<br>
<br>
Hello&nbsp;encrypted&nbsp;world!<br>
<br>
<font color="#ff0000">!!!&nbsp;planck&nbsp;proxy&nbsp;-&nbsp;Unhandled&nbsp;exception&nbsp;!!!</font><br>
Traceback&nbsp;(most&nbsp;recent&nbsp;call&nbsp;last):<br>
File&nbsp;&quot;/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/utils/emails.py&quot;,&nbsp;line&nbsp;43,&nbsp;in&nbsp;sendmail<br>
&nbsp;&nbsp;&nbsp;&nbsp;server.sendmail(msgfrom,&nbsp;msgto,&nbsp;msg.encode(&quot;utf8&quot;))<br>
File&nbsp;&quot;/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/smtplib.py&quot;,&nbsp;line&nbsp;885,&nbsp;in&nbsp;sendmail<br>
&nbsp;&nbsp;&nbsp;&nbsp;raise&nbsp;SMTPSenderRefused(code,&nbsp;resp,&nbsp;from_addr)<br>
smtplib.SMTPSenderRefused:&nbsp;(452,&nbsp;b&#x27;4.3.1&nbsp;Insufficient&nbsp;system&nbsp;storage&#x27;,&nbsp;&#x27;alice@pep.security&#x27;)<br>
During&nbsp;handling&nbsp;of&nbsp;the&nbsp;above&nbsp;exception,&nbsp;another&nbsp;exception&nbsp;occurred:<br>
Traceback&nbsp;(most&nbsp;recent&nbsp;call&nbsp;last):<br>
File&nbsp;&quot;/Users/david/Projects/planck_proxy/planck_proxy/_venv/bin/planckproxy&quot;,&nbsp;line&nbsp;8,&nbsp;in&nbsp;&lt;module&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;sys.exit(main())<br>
File&nbsp;&quot;/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/planckProxy.py&quot;,&nbsp;line&nbsp;122,&nbsp;in&nbsp;main<br>
&nbsp;&nbsp;&nbsp;&nbsp;run_proxy(cli_args)<br>
File&nbsp;&quot;/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/planckProxy.py&quot;,&nbsp;line&nbsp;71,&nbsp;in&nbsp;run_proxy<br>
&nbsp;&nbsp;&nbsp;&nbsp;deliver_mail(message)<br>
File&nbsp;&quot;/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/proxy_main.py&quot;,&nbsp;line&nbsp;553,&nbsp;in&nbsp;deliver_mail<br>
&nbsp;&nbsp;&nbsp;&nbsp;sendmail(message.inmail,&nbsp;recipient=message.msgto)<br>
File&nbsp;&quot;/Users/david/Projects/planck_proxy/planck_proxy/src/proxy/utils/emails.py&quot;,&nbsp;line&nbsp;43,&nbsp;in&nbsp;sendmail<br>
&nbsp;&nbsp;&nbsp;&nbsp;server.sendmail(msgfrom,&nbsp;msgto,&nbsp;msg.encode(&quot;utf8&quot;))<br>
File&nbsp;&quot;/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/smtplib.py&quot;,&nbsp;line&nbsp;282,&nbsp;in&nbsp;__exit__<br>
&nbsp;&nbsp;&nbsp;&nbsp;code,&nbsp;message&nbsp;=&nbsp;self.docmd(&quot;QUIT&quot;)<br>
File&nbsp;&quot;/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/smtplib.py&quot;,&nbsp;line&nbsp;430,&nbsp;in&nbsp;docmd<br>
&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.getreply()<br>
File&nbsp;&quot;/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/smtplib.py&quot;,&nbsp;line&nbsp;396,&nbsp;in&nbsp;getreply<br>
&nbsp;&nbsp;&nbsp;&nbsp;line&nbsp;=&nbsp;self.file.readline(_MAXLINE&nbsp;+&nbsp;1)<br>
File&nbsp;&quot;/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/socket.py&quot;,&nbsp;line&nbsp;669,&nbsp;in&nbsp;readinto<br>
&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self._sock.recv_into(b)<br>
KeyboardInterrupt<br>
Sending&nbsp;message&nbsp;to&nbsp;<font color="#00bb00">someone@yourcompany.tld</font>,&nbsp;subject:&nbsp;<font color="#ff8800">[FATAL]&nbsp;planck&nbsp;proxy&nbsp;@&nbsp;1.0.0.127.in-addr.arpa&nbsp;crashed!</font><br>
</td></tr></table></body></html>
13.11.2023 15:50:27.f - DEBUG - Lockfile [1;36m/Users/david/Projects/planck_proxy/proxy_home/proxy.lock[0;m removed
13.11.2023 15:50:27.f - DEBUG - Debug mode, will keep the logged output messages in the work_dir [1;36m/Users/david/Projects/planck_proxy/proxy_home/work/bob@pep.security/alice@pep.security/2023.11.13-15.50.20.791113[0;m
